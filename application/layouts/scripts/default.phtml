<html lang="en-gb" dir="ltr" class="com_content view-featured itemid-101 home j38 mm-hover no-touch"><head>

	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta name="keywords" content="vietnam tour, vietnam visa, vietnam holidays, vietnam adventures, vietnam packages, vietnam flights, vietnam fly, vietnam tickets, vietnam beach">
	<meta name="description" content="Vietnam Visa Tours - Best Vietnam Vacation Packages for your Holiday. Halong Bay Cruises, Vietnam Hotels, Vietnam Tour Packages">
	<title><?php echo $this->page_title;?></title>
	<link href="/?format=feed&amp;type=rss" rel="alternate" type="application/rss+xml" title="RSS 2.0">
	<link href="/?format=feed&amp;type=atom" rel="alternate" type="application/atom+xml" title="Atom 1.0">
	<link href="/images/favicon.png" rel="shortcut icon" type="image/vnd.microsoft.icon">
	<link href="/css/css-016db-79490.css" rel="stylesheet" type="text/css" media="all" attribs="[]">
	<link href="/css/css-6659c-35222.css" rel="stylesheet" type="text/css" media="all" attribs="[]">
	<link href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,700" rel="stylesheet" type="text/css">
	<link href="/css/css-fa161-79492.css" rel="stylesheet" type="text/css" media="all" attribs="[]">
	<link href="/css/css-affd5-35222.css" rel="stylesheet" type="text/css" media="all" attribs="[]">
	<style type="text/css">

		@media screen and (max-width: 480px){.bt-cs .bt-row{width:100%!important;}}
#camera_wrap_90 .camera_pag_ul li img, #camera_wrap_90 .camera_thumbs_cont ul li > img {height:75px;}
#camera_wrap_90 .camera_caption {
	display: block;
	position: absolute;
}
#camera_wrap_90 .camera_caption > div {
	-moz-border-radius: 5px 5px 5px 5px;-webkit-border-radius: 5px 5px 5px 5px;border-radius: 5px 5px 5px 5px;
}
#camera_wrap_90 .camera_caption > div div.camera_caption_title {
	
}
#camera_wrap_90 .camera_caption > div div.camera_caption_desc {
	
}

@media screen and (max-width: 480px) {
		#camera_wrap_90 .camera_caption {
			display: none !important;
		}
}
<!-- TEST CSS logo on tablet -->
/* @media screen and (min-width: 800px) and (max-width: 1200px) {
    #logo-header, .logo {
        margin-top: 35px;
    }
} */
</style>
<style>
    .loader {
      display: none;
      position: absolute;
      left: 50%;
      top: 50%;
      z-index: 2;
      border: 10px solid #f3f3f3;
      border-radius: 50%;
      border-top: 10px solid #F58634 ;
      border-bottom: 10px solid #F58634 ;
      width: 80px;
      height: 80px;
      -webkit-animation: spin 2s linear infinite;
      animation: spin 2s linear infinite;
    }
    
    @-webkit-keyframes spin {
      0% { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
</style>
<style type="text/css">
    
    #overlay {
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 1;
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100%;
        display: none;
    }​
    .nspLinks ul li h4::before {
        margin: -1px 3px 0 0 !important;
    }
    .fa-phone, .fa-envelope {
        margin-top: 10px ;
    }
    
    #total_price {
        font-weight: 600;
        color: #F58634 !important;
        border: none;
        background: none;
        font-size: 15px !important;
        margin-left: -20px;
        width: 100%;
    }
	
	#booking_type {
        border: none;
        background: none;
        font-size: 15px !important;
        margin-left: -20px;
        width: 100%;
    }
</style>

<!-- APPLY VISA -->
<style type="text/css">
    .bs-callout {
        padding-left: 20px;
        padding-right: 20px;
        padding-bottom: 20px;
        margin: 10px 0;
        border: 1px solid #eee;
        border-left-width: 5px;
        border-radius: 3px;
    }
    
    .form-control {
        display: block !important;
        width: 100% !important;
        height: 34px !important;
        padding: 6px 12px !important;
        font-size: 14px !important;
        line-height: 1.42857143 !important;
        color: #555 !important;
        background-color: #fff !important;
        background-image: none !important;
        border: 1px solid #ccc !important;
        border-radius: 4px !important;
   }
   
   select, select.form-control, select.inputbox, select.input, input#thunho, input[type="text"] {
    color: #444 !important;
   }
</style>
	
	<script src="/css/js/js-cf70e-35222.js" type="text/javascript"></script>
	<script type="text/javascript">
jQuery(window).on('load',  function() {
				new JCaption('img.caption');
			});
jQuery(window).on('load',  function() {
				new JCaption('img.caption');
			});
Calendar._DN = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]; Calendar._SDN = ["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"]; Calendar._FD = 0; Calendar._MN = ["January","February","March","April","May","June","July","August","September","October","November","December"]; Calendar._SMN = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]; Calendar._TT = {"INFO":"About the Calendar","ABOUT":"DHTML Date\/Time Selector\n(c) dynarch.com 20022005 \/ Author: Mihai Bazon\nFor latest version visit: http:\/\/www.dynarch.com\/projects\/calendar\/\nDistributed under GNU LGPL.  See http:\/\/gnu.org\/licenses\/lgpl.html for details.\n\nDate selection:\n- Use the \u00ab and \u00bb buttons to select year\n- Use the < and > buttons to select month\n- Hold mouse button on any of the buttons above for faster selection.","ABOUT_TIME":"\n\nTime selection:\n Click on any of the time parts to increase it\n or Shiftclick to decrease it\n or click and drag for faster selection.","PREV_YEAR":"Select to move to the previous year. Select and hold for a list of years.","PREV_MONTH":"Select to move to the previous month. Select and hold for a list of the months.","GO_TODAY":"Go to today","NEXT_MONTH":"Select to move to the next month. Select and hold for a list of the months.","SEL_DATE":"Select a date.","DRAG_TO_MOVE":"Drag to move.","PART_TODAY":" Today ","DAY_FIRST":"Display %s first","WEEKEND":"0,6","CLOSE":"Close","TODAY":"Today","TIME_PART":"(Shift-)Select or Drag to change the value.","DEF_DATE_FORMAT":"%Y%m%d","TT_DATE_FORMAT":"%a, %b %e","WK":"wk","TIME":"Time:"};
		jQuery(document).ready(function(){
			var heightImg = '60%'; //slide images on tour detail page
			if(window.location.pathname == '/' || window.location.pathname.indexOf('index') >= 0){
				heightImg = '40%'; //home page
			}
			new Slideshowck('#camera_wrap_90', {
				 height: heightImg,
				 minHeight: '150',
				 pauseOnClick: false,
				 hover: 1,
				 fx: 'bottomLeftTopRight',
				 loader: 'none',
				 pagination: 0,
				 thumbnails: 0,
				 thumbheight: 75,
				 thumbwidth: 100,
				 time: 3000,
				 transPeriod: 1000,
				 alignment: 'topCenter',
				 autoAdvance: 1,
				 mobileAutoAdvance: 1,
				 portrait: 0,
				 barDirection: 'leftToRight',
				 //imagePath: '/modules/mod_slideshowck/images/',
				 lightbox: 'mediaboxck',
				 fullpage: 0,
				 mobileimageresolution: '0',
				 navigationHover: true,
					mobileNavHover: true,
					navigation: true,
					playPause: true,
				 barPosition: 'bottom',
				 responsiveCaption: 0,
				 keyboardNavigation: 0,
				 container: ''
		});
}); 

	</script>
	<!-- START Meta Tags add by BienThuy Meta Tags Plugin for Joomla - www.bienthuy.com --><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
	<meta name="DC.title" content="Vietnam Tour">
 <meta name="DC.identifier" content="http://vietnamvisatours.com/">
 <meta name="DC.description" content="Vietnam Tours   Travel Deals - Best Vietnam Vacation Packages for your Holiday  Checkout our massive ranges of Vietnam Discovery  Vietnam Adventures  Halong Bay Cruises  Vietnam Beach break  Vietnam Hotels">
 <meta property="place:location:latitude" content="13.3603548">
<meta property="place:location:longitude" content="103.8558934">
<meta property="business:contact_data:street_address" content="Suite 707, Thang Long Bld, 115 Le Duan St, Hoan Kiem Dist">
<meta property="business:contact_data:locality" content="Hanoi">
<meta property="business:contact_data:postal_code" content="111000">
<meta property="business:contact_data:country_name" content="Vietnam">
<meta property="business:contact_data:email" content="vietnamvisatours@gmail.com">
<meta property="business:contact_data:phone_number" content="+8424 3942 9444">
<meta property="business:contact_data:website" content="http://vietnamvisatours.com">
<meta itemprop="name" content="Vietnam Tour">
<meta itemprop="description" content="Vietnam Tours   Travel Deals - Best Vietnam Vacation Packages for your Holiday  Checkout our massive ranges of Vietnam Discovery  Vietnam Adventures  Halong Bay Cruises  Vietnam Beach break  Vietnam Hotels">
<meta itemprop="image" content="http://vietnamvisatours.com/images/icons/Logo-Vietnamtours.png">
<meta name="twitter:card" content="summary">  <!-- Card type -->
<meta name="twitter:site" content="http://vietnamvisatours.com/">
<meta name="twitter:title" content="Vietnam Tour">
<meta name="twitter:url" content="http://vietnamvisatours.com/">
<meta name="twitter:description" content="Vietnam Tours   Travel Deals - Best Vietnam Vacation Packages for your Holiday  Checkout our massive ranges of Vietnam Discovery  Vietnam Adventures  Halong Bay Cruises  Vietnam Beach break  Vietnam Hotels">
<meta name="twitter:creator" content="">
<meta name="twitter:image:src" content="http://vietnamvisatours.com/images/icons/Logo-Vietnamtours.png">
<meta name="twitter:domain" content="http://vietnamvisatours.com">
<meta property="fb:admins" content="100000403037078">
	<meta property="og:url" content="http://vietnamvisatours.com/">
	<meta property="og:type" content="article">
	<meta property="og:image" content="http://vietnamvisatours.com/images/icons/Logo-Vietnamtours.png">
	<meta property="og:description" content="Vietnam Tours &amp; Travel Deals - Best Vietnam Vacation Packages for your Holiday. Checkout our massive ranges of Vietnam Discovery, Vietnam Adventures, Halong Bay Cruises, Vietnam Beach break, Vietnam Hotels">
	<meta property="og:title" content="Vietnam Tour">
	<meta name="DC.subject" content="Travel Vietnam, Vietnam Tours, Vietnam Holidays, Vietnam Vacation">
 <meta name="DC.language" scheme="UTF-8" content="en"><!-- END Meta Tags add by BienThuy Meta Tags Plugin for Joomla - www.bienthuy.com -->

	<!-- META FOR IOS & HANDHELD -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<style type="text/stylesheet">@-webkit-viewport { width: device-width; } @-moz-viewport { width: device-width; }	@-ms-viewport { width: device-width; } @-o-viewport { width: device-width; } @viewport { width: device-width; }	</style>
<script type="text/javascript">
		//<![CDATA[
		if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
			var msViewportStyle = document.createElement("style");
			msViewportStyle.appendChild(
				document.createTextNode("@-ms-viewport{width:auto!important}")
			);
			document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
		}
		//]]>
	</script>
<link href="http://vietnamvisatours.com/" rel="canonical">
<meta name="HandheldFriendly" content="true">
<meta name="apple-mobile-web-app-capable" content="YES">
<!-- //META FOR IOS & HANDHELD -->
<meta name="msvalidate.01" content="0EFF9D069873E185972A21B1E198380A">
<meta name="msvalidate.01" content="811AEE845BCE017626A95418305A0E16">
<meta name="robots" content="NOODP">
<!-- End Facebook Pixel Code -->
<!-- Global site tag (gtag.js) - Google Ads: 1024701707 -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=AW-1024701707"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-1024701707');
</script>
<meta name="theme-color" content="#db5945">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TDLB98K');</script>
<!-- End Google Tag Manager -->
<!-- Le HTML5 shim and media query for IE8 support -->
<!--[if lt IE 9]>
<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<script type="text/javascript" src="/plugins/system/t3/base-bs3/js/respond.min.js"></script>
<![endif]-->
<!-- You can add Google Analytics here or use T3 Injection feature -->
<link rel="stylesheet" type="text/css" href="/css/jquery.datetimepicker.css">
<script src="//code.jquery.com/jquery-latest.min.js"></script>
<script src="/js/jquery.datetimepicker.full.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.26/vue.min.js"></script>
<script>
    var vm = new Vue({
        el: '#navbarCollapse',
        data: {
            checkStep1: true,
            checkStep2: false,
            checkStep3: false,
            checkStep4: false,
            checkStep5: false,
            checkStep6: false,
            checkStep7: false,
        },

        ready: function () {
           
            if (location.href.indexOf('apply/form') != -1) {
                this.checkStep2 = true
                this.checkStep1 = false
            }
            if (location.href.indexOf('faq') != -1) {
                this.checkStep3 = true
                this.checkStep1 = false
            }
            if (location.href.indexOf('whyus') != -1) {
                this.checkStep4 = true
                this.checkStep1 = false
            }
            if (location.href.indexOf('private') != -1) {
                this.checkStep5 = true
                this.checkStep1 = false
            }
            if (location.href.indexOf('extra') != -1) {
                this.checkStep6 = true
                this.checkStep1 = false
            }
            if (location.href.indexOf('contact') != -1) {
                this.checkStep7 = true
                this.checkStep1 = false
            }
        },
        
    })
</script>
<script lang="javascript">
/* $(document).ready(function () {
$.get("https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=BTC,USD,EUR,GBP", function(data) {
  alert(JSON.stringify(data))

})
}) */
</script>
<style type="text/css">
    /*css for logo on tablet 800px->1200px*/
    @media (max-width:1199px) and (min-width:992px) {
        #logo-header {
            margin-top: 70px;
        }
    }
    @media (max-width:991px) and (min-width:801px) {
        #logo-header {
            margin-top: 35px;
        }
    }​
</style>
<script type="text/javascript">
        $(document).ready(function () {
        	
        	function validateEmail(email) {
        	    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        	    return re.test(String(email).toLowerCase());
        	}

        	function dateTimeNow() {
              	  var date = new Date();
          		  var myDays=
          		  ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]
          		  var hours = date.getHours();
          		  var minutes = date.getMinutes();
          		  var ampm = hours >= 12 ? 'PM' : 'AM';
          		  hours = hours % 12;
          		  hours = hours ? hours : 12; // the hour '0' should be '12'
          		  minutes = minutes < 10 ? '0'+minutes : minutes;
          		  var strTime = hours + ':' + minutes + ' ' + ampm;
          		  return strTime + ","+  myDays[date.getDay()] + " " + date.getDate() + "/"  + (date.getMonth()+1) + "/" + date.getFullYear();
       		}

        	function showErr(msg) {
        	  document.getElementById("error_msg").innerHTML = msg;  	
       		  document.getElementById("system-message-container").style.display = 'block';
       		  document.getElementById("system-message-container").scrollIntoView();
        	}

        	function hideErr() {
         	  document.getElementById("system-message-container").style.display = 'none';
          	}
          	
        	function showLoading(){
        		document.getElementById("loader").style.display = 'block';
                //document.getElementById("overlay").style.display = 'block';
           	}

        	function hideLoading(){
        		document.getElementById("loader").style.display = 'none';
                //document.getElementById("overlay").style.display = 'none';
           	}

        	//BOOKING TOUR
        	//load options no of travellers
        	loadOptionsTravellers();
        	function loadOptionsTravellers(){
            	var selectNoTraveller = document.getElementById("no_traveller");
            	if(selectNoTraveller == null) return;
          	  	var from =  g("#from").value;
          	  	var to = g("#to").value;
          	  	var price = g("#price").value;
            	price_type = g("#price_type").value;
          	    var newHtml= '';
          	    if(from < to){
          	    	newHtml = getHtmlTravellerOptions(from, to);
                } else if(from == to){ // 1-20
                	//group/private tour
                    if(price_type == 1 && from == to && from == 1){
                    	newHtml = "<option value='1' selected>1 Person</option>";
                    	showTotalTourPrice(1, price);
                    } else {
                		newHtml = getHtmlTravellerOptions(from, 20);
                	}
                }

          	  selectNoTraveller.innerHTML += newHtml;
            }

            function getHtmlTravellerOptions(from, to){
            	var newHtml= '';

            	for(var i = from; i <= to; i++){
					var option;
					if(i == 1) option  = "<option value='1'>1 Person</option>";
					else option = "<option value='"+i+"'>"+ i + " Persons</option>";
					newHtml += option;
				}
				return newHtml;
            }
            $("#no_traveller").on('change', function() {
            	  var no = this.value*1;
            	  var price = g("#price").value;
            	  showTotalTourPrice(no, price);
            });

            function showTotalTourPrice(no, price){ // no of travellers
            	 var total_price = document.getElementById("total_price");
               	 if(no > 0)
             	  	total_price.value = "$" + price +" * " + no + " = $" + (price*no);
               	 else 
               		total_price.value = '';
            }

            $('#booktour').on('submit', function (e) {
            	  e.preventDefault();
            	  showLoading();           	  
            	  var arivaldate = document.getElementById("arivaldate").value;
            	  var email = document.getElementById("email").value;
            	  var ccemail = document.getElementById("ccemail").value
            	  var name = document.getElementById("name").value;
            	  var no = document.getElementById("no_traveller");
            	  var no_traveller = no.options[no.selectedIndex].value;
            	  //alert(no_traveller);
//             	  /validateEmail(email)
                  var totalP = g("#total_price").value;
				  var total = totalP.split('=')[1].replace('$','').trim();				  
            	  if(!arivaldate  || !name || !ccemail || !email || !no_traveller) {
            		  showErr('Please input the mandatory fields.');
                  } else if(!validateEmail(email) || !validateEmail(ccemail)) {
                	  showErr('Email or confirm email is incorrect.');
            	  } else if(email != ccemail) {
            		  showErr('The email and confirm email you entered does not match each other.');
                  } else {
                      document.getElementById("book_time").value = dateTimeNow();
                      var data = {
                    		 id: g("#id").value,
                     		 name: name,
                    		 arivaldate: arivaldate,
                    		 tour_price_group_id: g("#tour_price_group_id").value,
                    		 total_price: total,
                    		 booking_type: g("#booking_type").value,
                    		 email: email,
                    		 no_traveller: no_traveller,
                    		 phone: g("#phone").value,
                    		 nationality: g("#nationality").value,
                    		 book_time: g("#book_time").value,
                    		 comment: g("#comment").value,
                      };
                      callAjax('POST', '/index/tour-book-send-mail', data);                  	                    	                    
                	  //document.getElementById("booktour").submit();
                  }
            });

            function callAjax(type, url, data) {
            	var xhr = new XMLHttpRequest();
            	xhr.open(type, url);
            	xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                //window.location.href = "/index/tour-book-post";
            	xhr.onload = function() {
            	    if (xhr.status === 200) {
                	    //console.log(xhr.responseText);
            	        var code = JSON.parse(xhr.responseText);
            	        //rediret to payment gate
            	        hideLoading();
		
						//--->
            	        window.location.href = "/index/tour-book-success/code/"+code;
            	    }
            	};
            	xhr.send(param(data));
            }

            function param(object) {
                var encodedString = '';
                for (var prop in object) {
                    if (object.hasOwnProperty(prop)) {
                        if (encodedString.length > 0) {
                            encodedString += '&';
                        }
                        encodedString += encodeURI(prop + '=' + object[prop]);
                    }
                }
                return encodedString;
            }

            var handleSubmitMyForm1 = function(event){
                event.preventDefault();
                var email = g("#contact_email").value;
                var ccemail = g("#contact_cc_email").value;
                if(email != ccemail){
                	showErr('The email and confirm email you entered does not match each other.');
                } else {
                	hideErr();
                	switchToTab('idStep2');
                	//var dropNumberApp = document.getElementById("dropNumberApp");
               	  	//var no = dropNumberApp.options[dropNumberApp.selectedIndex].value;
               	  	var no = g("#dropNumberApp").value;
                	showApplication(no);
                }
            }

            var handleSubmitMyForm2 = function(event){
                event.preventDefault();
                switchToTab('idStep3');

                //set data for label
                g("#dropPurposeOfVisit_text").innerHTML = g("#dropPurposeOfVisit").value + ", " + g("#type_of_visa").value ;
                g("#arrival_date_text").innerHTML = g("#arrival_date").value;
                g("#radioPrivate_text").innerHTML =g("#radioPrivate1").checked ? g("#radioPrivate1").value : g("#radioPrivate2").value ;
                g("#processing_time_text").innerHTML = g("#processing_time").value;
                g("#contact_text").innerHTML = g("#contact_name").value + ", " + g("#contact_email").value + ", " + g("#contact_phone").value;
                g("#radioPay_text").innerHTML = g("#radioPay1").checked ? g("#radioPay1").value : g("#radioPay2").value;

                //fill data application for final page
                var no = g("#dropNumberApp").value;
                for(var i = 1; i <= no; i++) {
                    var app_text = g("#application"+i+"_text");
                    app_text.style.display = 'block';

                    app_text.getElementById("fullname"+i+"_text").innerHTML = g('#fullname'+i).value;
                    app_text.getElementById("nationality"+i+"_text").innerHTML = g('#nationality'+i).value;
                    app_text.getElementById("dateOfBirth"+i+"_text").innerHTML = g('#dateOfBirth'+i).value;
                    app_text.getElementById("passport_number"+i+"_text").innerHTML = g('#passport_number'+i).value;
                    app_text.getElementById("passportExpiryDate"+i+"_text").innerHTML = g('#passportExpiryDate'+i).value;
                    app_text.getElementById("gender"+i+"_text").innerHTML = g('#gender'+i).value;
					
					var age = getAge(g('#dateOfBirth'+i).value);
					var gender = g('#gender'+i).value;
					var img  = app_text.getElementById("img"+i).src;
					console.log(img+": img");
					console.log(age+": age");
					app_text.getElementById("img"+i).src = '/img/female.png';
					if(age <= 2){
						app_text.getElementById("img"+i).src = gender == 'Male' ? '/img/maleU1y.png' : '/img/femaleU1y.png';
					} else if(age > 2 && age <= 6){
						app_text.getElementById("img"+i).src = gender == 'Male' ? '/img/maleU3y.png' : '/img/femaleU3y.png';
					} else if(age > 6 && age < 18){
						app_text.getElementById("img"+i).src = gender == 'Male' ? '/img/maleU12y.png' : '/img/femaleU12y.png';
					} else {
						app_text.getElementById("img"+i).src = gender == 'Male' ? '/img/male.png' : '/img/female.png';
					}
                }
            }

            function g(str){
                if(str.indexOf("#") == 0)
            		return document.getElementById(str.substr(1));
                else if(str.indexOf(".") == 0)
                	return document.getElementsByClassName(str.substr(1));
                else 
                    return document.getElementsByTagName(str);
            }
			function getAge(dateString) {
				var today = new Date();
				var birthDate = new Date(dateString);
				var age = today.getFullYear() - birthDate.getFullYear();
				var m = today.getMonth() - birthDate.getMonth();
				if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
					age--;
				}
				return parseInt(age);
			}
            
            KhoiTao();
            $('#ApplicationForm').find('#btnNext1').click(function () {
                KhoiTao();
                g("#myForm1").addEventListener("submit", handleSubmitMyForm1  , false);
            });
            
            $('#ApplicationForm').find('#btnNext2').click(function () {
                g("#myForm2").addEventListener("submit", handleSubmitMyForm2  , false);
            });

            function showApplication(no){
                //show application 1-> no
				for(var i = 1; i <= no; i++) {
                    var app = g("#application"+i);
                    app.style.display = 'block';
                    var inputs = app.getElementsByTagName('input');
                    var selects = g('select');
                    //set validation for input
                    for(var k = 0; k < inputs.length; k++){
    					inputs[k].setAttribute("required", "");				
                    }
                    for(var k = 0; k < selects.length; k++){
                    	selects[k].setAttribute("required", "");				
                    }
                                                   
				}
				 //hide app no+1 -> app6 and remove validation             	       
            	for(var i = 6; i >  no ; i--){
        			//console.log("zzxzzzz"+i);               		
        			var app = g("#application"+i);
        			app.style.display = 'none';
        			var inputs = app.getElementsByTagName('input');
        			var selects = app.getElementsByTagName('select');;
        			for(var k = 0; k< inputs.length; k++) {
        				inputs[k].removeAttribute("required");
                	}
        			for(var k = 0; k< selects.length; k++) {
        				selects[k].removeAttribute("required");
                	}
        			//hide for final page
        			var app_text = g("#application"+i+"_text");
        			app_text.style.display = 'none';
                }
                
            }

            $('#ApplicationForm').find('#btnPrevious2').click(function () {
            	switchToTab('idStep1');
            });

            $('#ApplicationForm').find('#btnPrevious3').click(function () {
            	switchToTab('idStep2');
            });

            $('#ApplicationForm').find('#btnSubmit').click(function () {
            	g("#book_time").value = dateTimeNow();
            	g("#myForm1").submit(); //remove later
            	g("#myForm2").submit(); //remove later
				//TODO call ajax to save data and then redirect to payment gateway        
            });

            function switchToTab(idTab){
            	switch (idTab) {
                    case 'idStep1':
                    	showTab('idStep1');
                    	hideTab('idStep2');
                    	hideTab('idStep3');
                        break;
                    case 'idStep2':
                    	showTab('idStep2');
                    	hideTab('idStep1');
                    	hideTab('idStep3');
                        break;
                    case 'idStep3':
                    	showTab('idStep3');
                    	hideTab('idStep1');
                    	hideTab('idStep2');
                        break;
            	}
            }

            function showTab(idTab){
				g("#"+idTab).className = 'active';
            	g("#"+idTab+"_div").style.display = 'block';
            }

            function hideTab(idTab){
            	g("#"+idTab).className = 'noactive';
            	g("#"+idTab+"_div").style.display = 'none';    
            }
           
            function KhoiTao() {
                var dateToday = new Date();
                year = dateToday.getFullYear;
                month = dateToday.getMonth;
                day = dateToday.getDate;

                var ExpireDate = new Date();
                ExpireDate.setMonth(ExpireDate.getMonth() + 1);

                //var jQuery = $.noConflict();
                jQuery('.dateOfBirth').datetimepicker({
                    yearStart: 1930,
                    yearEnd: 2017,
                    timepicker: false,
                    format: 'F d, Y',
                    startDate: '01/01/1930',
                    endDate: day + '/' + month + '/' + year,
                    maxDate: day + '/' + month + '/' + year,
                    defaultDate:'01/01/1970'
                });
                jQuery('.PPExpireDate').datetimepicker({
                    timepicker: false,
                    format: 'F d, Y',
                    minDate: ExpireDate.getDay + '/' + ExpireDate.getMonth + '/' + ExpireDate.getFullYear,
                    yearStart: 2017,
                });
                var today = new Date();
                var lastDate = new Date(today.getFullYear(), today.getMonth() + 1, 0);
                jQuery('.arrival_date').datetimepicker({
                    timepicker: false,
                    format: 'F d, Y',
                    minDate: day + '/' + month + '/' + year,
                    yearStart: 2018,
                    yearEnd: 2019,
                    startDate: today,
                    endDate: lastDate
                })
                jQuery('#arivaldate').datetimepicker({
                	format: 'Y-m-d',                    
                    timepicker: false,
                    minDate: day + '/' + month + '/' + year,
                    yearStart: 2018,
                    yearEnd: 2019,
                    startDate: today,
                    endDate: lastDate
                })
            }
        });
    </script>
    <script>
        Vue.directive('selectcountry', {
            twoWay: true,
            //priority: 1000,

            bind: function () {
                var self = this
                $(this.el)
                  .select2()
                  .on('change', function () {
                      self.set(this.value)
                  })
            },
            update: function (value) {
                $(this.el).val(value).trigger('change')
            },

        })

        var vm = new Vue({
            el: '#ApplicationForm',
            data: {
                url_ref: '',
                showdata: 'false',
                tab: 1,
                isStep1: true,
                isStep2: false,
                isStep3: false,
                dropNumberApp: '',
                radioPrivate: '',
                radioPay: '',

                show8HolidayHours: false,
                
                total: 0,
                price: 0,
                paid:0,
                id: 0,
                unique_code:'',
                linkPaypal: '',
                linkOnepay: '',
                payStatus: '',
                payPara:'',
                showFirstTime: 'true',
                submitInfo:'',
                payAgain:'',
                type_of_visa: '',

                arrival_date: '',
                msg: '',
                timeNow: '',
                timeNow0:'',
                day0: '',
                day1: '',
                day2: '',
                day3: '',
               
            

                numberWorkingHoursRemain:0,
                timeReceivedVisa: '',
                dropPurposeOfVisit:'',
                Arrival_Airport: '',
                Processing_Time: ' ',
                Contact_Name: '',
                Contact_Email: '',
                confirm_email: '',
                Contact_Phone: '',

                oldInfo: '',
                curInfo: '',

                
                nationality1: '',
                nationality2: '',
                nationality3: '',
                nationality4: '',
                nationality5: '',
                nationality6: '',

                nationalityname1:'',
                nationalityname2: '',
                nationalityname3: '',
                nationalityname4: '',
                nationalityname5: '',
                nationalityname6: '',

                fullname1: '',
                fullname2: '',
                fullname3: '',
                fullname4: '',
                fullname5: '',
                fullname6: '',

                gender1: '',
                gender2: '',
                gender3: '',
                gender4: '',
                gender5: '',
                gender6: '',

                dateOfBirth1: '',
                dateOfBirth2: '',
                dateOfBirth3: '',
                dateOfBirth4: '',
                dateOfBirth5: '',
                dateOfBirth6: '',

                imgGender1: 'Male',
                imgGender2: 'Male',
                imgGender3: 'Male',
                imgGender4: 'Male',
                imgGender5: 'Male',
                imgGender6: 'Male',

                passport_number1: '',
                passport_number2: '',
                passport_number3: '',
                passport_number4: '',
                passport_number5: '',
                passport_number6: '',

                passportExpiryDate1: '',
                passportExpiryDate2: '',
                passportExpiryDate3: '',
                passportExpiryDate4: '',
                passportExpiryDate5: '',
                passportExpiryDate6: '',

                isDisabledButton: false,
                //listTypeOfPurposes: ['TOURIST VISA', 'BUSINESS VISA'],
                listTypeOfPurposes: ['TOURIST VISA'],
                //listRushs: ['Normal - 2 working days (MON-FRI)',
                //                           'Urgent - 1 working day (MON-FRI)',
                //                           'Urgent - 6 working hours (MON-FRI)',
                //                           'Urgent - 4 working hours (MON-FRI)',
                //                           'Urgent - 2 working hours (MON-FRI)',
                //                           ],
                listRushs: ['Normal - 2 working days (MON-FRI)',
                                           'Urgent - 1 working day (MON-FRI)',
                                           'Urgent - 6 working hours (MON-FRI)',
                                           'Urgent - 4 working hours (MON-FRI)',
                                           'Urgent - 2 working hours (MON-FRI)',
                                           'Urgent - 8 holiday hours'],
                listTypeOfVisas: ['1 Month Single Entry','1 Month Multiple Entry','3 Months Single Entry','3 Months Multiple Entry','1 Year Multiple Entry' ],
                //listTypeOfVisas: ['1 Month Single Entry', '1 Month Multiple Entry', '3 Months Single Entry', '3 Months Multiple Entry'],
                listGenders: [{ name: 'Male' }, { name: 'Female' }],

                p1M1L_1K: '',
                p1M1L_2K: '',
                p1M1L_4K: '',
                p1M1L_6K: '',
                p1M1L_9K: '',

                p3M1L_1K: '',
                p3M1L_2K: '',
                p3M1L_4K: '',
                p3M1L_6K: '',
                p3M1L_9K: '',

                p1MNL_1K: '',
                p1MNL_2K: '',
                p1MNL_4K: '',
                p1MNL_6K: '',
                p1MNL_9K: '',

                p3MNL_1K: '',
                p3MNL_2K: '',
                p3MNL_4K: '',
                p3MNL_6K: '',
                p3MNL_9K: '',

                pB1M1L:'',
                pB1MNL: '',
                pB3M1L: '',
                pB3MNL: '',
                pB6MNL: '',
               

                p1YNL: '',
                pB1YNL: '',

                rush1dfB: '',
                rush4hfB: '',

                rush1d: '',
                rush6h: '',
                rush4h: '',
                rush2h: '',
                rush1h: '',
                rush8holidayHour:'',

                pCountryTouristAE:'',
                pCountryBusinessPlusIndiaUnder3M: '',
                pCountryBusinessPlusIndia6M: '',
                pCountryBusinessPlusIndia1Y: '',
                pCountryBusinessPlusChinaUnder3M: '',
                pCountryBusinessPlusChina6M: '',
                pCountryBusinessPlusChina1Y: '',
                pCountryBusinessPlusKorea: '',
                pCountryBusinessPlusKorea1Y: '',


                pCountryBusinessPlus5NuocUnder3M: '',
                pCountryBusinessPlus5Nuoc6M: '',
                pCountryBusinessPlus5Nuoc1Y: '',

                //isCountryIndia: 'false',
                //isCountryChina: 'false',
                //isCountryKorea: 'false',
                isCountryAE: 'false',
                isCountryUS: 'false',
                isCountry5Nuoc: 'false',

                listAE: 'AE,SA,BH',
                //listIndia: 'IN',
                //listChina: 'CN',
                //listKorea: 'KR',
                listUS: 'US',
                list5Nuoc: 'IL,IN,CN,KR,ZA',

                exemption: 'false',
                listExemption: 'UK,FR,DE,IT,ES,SE,FI,DK,NO,JP,KR',

                priceRush: 0,
                date18before: '',
                date12before: '',
                date3before: '',
                date1before: '',
              listCodeCountry:[],
              listCountrys: []
            },


            methods: {
                callAllTask: function (directToPayGate) {
                    var isSendMail1 = 'none'

                    if (this.curInfo !== this.oldInfo) {
                        isSendMail1 = 'ok'
                    }
                    
                    var root = location.protocol + '//' + location.host;
                    var apiUrl = root + '/apply/submit.ashx'

                    self = this
                    $.getJSON(apiUrl, {
                        id: self.id,
                        dropPurposeOfVisit:self.dropPurposeOfVisit,
                        dropNumberApp: self.dropNumberApp, total: self.total, paid: self.paid, type_of_visa: self.type_of_visa, arrival_date: self.arrival_date,
                        Arrival_Airport: self.Arrival_Airport, Processing_Time: self.Processing_Time, Contact_Name: self.Contact_Name,
                        Contact_Email: self.Contact_Email, Contact_Phone: self.Contact_Phone,
                        nationality1: self.nationality1, nationality2: self.nationality2, nationality3: self.nationality3, nationality4: self.nationality4, nationality5: self.nationality5, nationality6: self.nationality6,
                        fullname1: self.fullname1, fullname2: self.fullname2, fullname3: self.fullname3, fullname4: self.fullname4, fullname5: self.fullname5, fullname6: self.fullname6,
                        gender1: self.gender1, gender2: self.gender2, gender3: self.gender3, gender4: self.gender4, gender5: self.gender5, gender6: self.gender6,
                        dateOfBirth1: self.dateOfBirth1, dateOfBirth2: self.dateOfBirth2, dateOfBirth3: self.dateOfBirth3, dateOfBirth4: self.dateOfBirth4, dateOfBirth5: self.dateOfBirth5, dateOfBirth6: self.dateOfBirth6,
                        passport_number1: self.passport_number1, passport_number2: self.passport_number2, passport_number3: self.passport_number3, passport_number4: self.passport_number4, passport_number5: self.passport_number5, passport_number6: self.passport_number6,
                        passportExpiryDate1: self.passportExpiryDate1, passportExpiryDate2: self.passportExpiryDate2, passportExpiryDate3: self.passportExpiryDate3, passportExpiryDate4: self.passportExpiryDate4, passportExpiryDate5: self.passportExpiryDate5, passportExpiryDate6: self.passportExpiryDate6,
                        radioPrivate: self.radioPrivate, radioPay: self.radioPay,
                        unique_code: self.unique_code,
                        directToPayGate: directToPayGate,
                        isSendMail: isSendMail1,
                        isInsertUpdate: 'ok',
                        url_ref:self.url_ref,
                        imgGender1: self.imgGender1, imgGender2: self.imgGender2, imgGender3: self.imgGender3, imgGender4: self.imgGender4, imgGender5: self.imgGender5, imgGender6: self.imgGender6,
                        myversion: Math.floor(Math.random() * 1000000)
                    }, function (cities1) {
                        if (cities1[0].ok == 'ok') {
                            self.id = cities1[0].id
                            if (self.unique_code == '') {
                                self.linkPaypal = cities1[0].linkPaypal
                                self.linkOnepay = cities1[0].linkOnepay
                                self.unique_code = cities1[0].unique_code
                            }
                            if (directToPayGate != '0') {
                                if (self.radioPay == 'Paypal') {
                                    location.href = cities1[0].linkPaypal;
                                } else {
                                    location.href = cities1[0].linkOnepay;
                                }
                            }
                            $("#loadingBook1").hide();
                        }

                    });
                },

                fnSubmit: function (event) {
                    this.isDisabledButton = true
                    $("#loadingBook1").show();

                    var id1 = this.getParameterByName('id')
                    vm.callAllTask('1')  //1: co redirect den pay Gate
                },
                fnPayAgain: function (event) {
                    this.isDisabledButton = true
                    $("#loadingBook1").show();
                    if (this.radioPay == 'Paypal') {
                        location.href = this.linkPaypal;
                    } else {
                        location.href = this.linkOnepay;
                    }
                },
                fnSubmitInformationAgain: function (event) {
                    this.isDisabledButton = true
                    $("#loadingBook1").show();
                    this.linkOnepay = window.location.href + '&submitInfo=true'
                    this.linkPaypal = window.location.href + '&submitInfo=true'
                    
                    vm.callAllTask('2')  //2: co direct den link '&submitInfo=true'
                    
                },
                fnSubmitInformationAgainAndPayMore: function (event) {
                    this.isDisabledButton = true
                    $("#loadingBook1").show();
                    vm.callAllTask('1')  //1: co direct den link payment
                },
                fnPayMore: function (event) {
                    this.isDisabledButton = true
                    $("#loadingBook1").show();
                    if (this.radioPay == 'Paypal') {
                        location.href = this.linkPaypal;
                    } else {
                        location.href = this.linkOnepay;
                    }
                },
                fnNext1: function (event) {
                    this.tab = 2;
                    this.isStep1 = false;
                    this.isStep2 = true;
                    this.showFirstTime = 'false'
                    this.checkExemption()
                    //this.initListCountry()
                },
                fnPrevious2: function (event) {
                    this.tab = 1;
                    this.isStep1 = true;
                    this.isStep2 = false;

                    this.exemption = 'false'
                    this.isCountryAE = 'false'
                    this.isCountry5Nuoc = 'false'
                    this.isCountryUS = 'false'
                },
                fnNext2: function (event) {
                    this.tab = 3;
                    this.isStep2 = false;
                    this.isStep3 = true;
                    this.getCurInfo();

                    this.converttoshow()

                    $("#loadingBook1").hide();
                },
                fnPrevious3: function (event) {
                    this.tab = 2;
                    this.isStep2 = true;
                    this.isStep3 = false;
                    this.applyAllCookie()
                    this.showFirstTime = 'false'
                },

                getCurInfo: function () {
                    this.curInfo = this.dropPurposeOfVisit + "/" + this.dropNumberApp + "/" + this.type_of_visa + '/' + this.Arrival_Airport + '/' + this.arrival_date + '/' + this.Processing_Time
                    this.curInfo += '/' + this.radioPrivate + '/' + this.Contact_Name + '/' + this.Contact_Email + '/' + this.Contact_Phone + '/' + this.radioPay
                    this.curInfo += '/' + this.nationality1 + '/' + this.fullname1 + '/' + this.gender1 + '/' + this.dateOfBirth1 + '/' + this.passport_number1 + '/' + this.passportExpiryDate1
                    this.curInfo += '/' + this.nationality2 + '/' + this.fullname2 + '/' + this.gender2 + '/' + this.dateOfBirth2 + '/' + this.passport_number2 + '/' + this.passportExpiryDate2
                    this.curInfo += '/' + this.nationality3 + '/' + this.fullname3 + '/' + this.gender3 + '/' + this.dateOfBirth3 + '/' + this.passport_number3 + '/' + this.passportExpiryDate3
                    this.curInfo += '/' + this.nationality4 + '/' + this.fullname4 + '/' + this.gender4 + '/' + this.dateOfBirth4 + '/' + this.passport_number4 + '/' + this.passportExpiryDate4
                    this.curInfo += '/' + this.nationality5 + '/' + this.fullname5 + '/' + this.gender5 + '/' + this.dateOfBirth5 + '/' + this.passport_number5 + '/' + this.passportExpiryDate5
                    this.curInfo += '/' + this.nationality6 + '/' + this.fullname6 + '/' + this.gender6 + '/' + this.dateOfBirth6 + '/' + this.passport_number6 + '/' + this.passportExpiryDate6

                    if (this.curInfo == this.oldInfo) {
                        this.payAgain = 'true'
                    } else {
                        this.payAgain = 'false'
                    }
                },
                //p1M1L_2K
                onChangeNumberApplicant: function () {
                    vm.checkPrice();
                },
                onChangeTypeOfVisa: function () {
                    vm.initListCountry()
                    vm.changeArrivalDate()
                    vm.checkPrice();
                },
                onChangePurposeOfVisit: function () {
                    vm.changeArrivalDate()
                    vm.updateListTypeOfVisa();
                    vm.checkPrice();
                },
                onChangeProcessingTime: function () {
                    vm.checkPrice();
                },
                onChangeRadioPrivate: function () {
                    vm.checkPrice();
                },
                
                updateListTypeOfVisa: function () {
                    this.listTypeOfVisas = $(this.listTypeOfVisas).not(['6 Months Multiple Entry']).get();
                    //this.listTypeOfVisas = $(this.listTypeOfVisas).not(['1 Year Multiple Entry']).get();
                    if (this.dropPurposeOfVisit == 'BUSINESS VISA') {
                        this.listTypeOfVisas = $(this.listTypeOfVisas).not(['1 Year Multiple Entry']).get();
                        //this.listTypeOfVisas.splice(4, 0, '6 Months Multiple Entry');
                    } else {
                        //this.listTypeOfVisas.splice(4, 0, '1 Year Multiple Entry');
                    }
                },
                initListCountry: function () {
                    this.listCountrys= [
                                     { name: "Albania", code: "AL" }, { name: "American Samoa", code: "AS" }, { name: "Andorra", code: "AD" }, { name: "Anguilla", code: "AI" }, { name: "Antarctica", code: "AQ" }, { name: "Antigua and Barbuda", code: "AG" }, { name: "Argentina", code: "AR" }, { name: "Armenia", code: "AM" }, { name: "Aruba", code: "AW" }, { name: "Australia", code: "AU" }, { name: "Austria", code: "AT" }, { name: "Azerbaijan", code: "AZ" },
                                     { name: "Bahamas", code: "BS" },
                                     { name: "Barbados", code: "BB" }, { name: "Belarus", code: "BY" }, { name: "Belgium", code: "BE" }, { name: "Bhutan", code: "BT" }, { name: "Bolivia, Plurinational State of", code: "BO" }, { name: "Bonaire, Sint Eustatius and Saba", code: "BQ" }, { name: "Bosnia and Herzegovina", code: "BA" }, { name: "Bouvet Island", code: "BV" }, { name: "Brazil", code: "BR" }, { name: "British Indian Ocean Territory", code: "IO" }, { name: "Brunei Darussalam", code: "BN" }, { name: "Bulgaria", code: "BG" }, { name: "Burkina Faso", code: "BF" }, { name: "Cambodia", code: "KH" },

                                     { name: "Canada", code: "CA" }, { name: "Cape Verde", code: "CV" }, { name: "Cayman Islands", code: "KY" }, { name: "Central African Republic", code: "CF" }, { name: "Chad", code: "TD" }, { name: "Chile", code: "CL" }, { name: "China", code: "CN" },
                                     { name: "Christmas Island", code: "CX" }, { name: "Cocos (Keeling) Islands", code: "CC" }, { name: "Colombia", code: "CO" }, { name: "Comoros", code: "KM" }, { name: "Cook Islands", code: "CK" }, { name: "Costa Rica", code: "CR" }, { name: "Croatia", code: "HR" }, { name: "Cuba", code: "CU" }, { name: "Curaçao", code: "CW" }, { name: "Cyprus", code: "CY" }, { name: "Czech Republic", code: "CZ" }, { name: "Denmark", code: "DK" },  { name: "Dominica", code: "DM" }, { name: "Dominican Republic", code: "DO" }, { name: "Ecuador", code: "EC" }, { name: "El Salvador", code: "SV" }, { name: "Estonia", code: "EE" },
                                     { name: "Falkland Islands (Malvinas)", code: "FK" }, { name: "Faroe Islands", code: "FO" }, { name: "Fiji", code: "FJ" }, { name: "Finland", code: "FI" }, { name: "France", code: "FR" }, { name: "French Guiana", code: "GF" }, { name: "French Polynesia", code: "PF" }, { name: "French Southern Territories", code: "TF" }, { name: "Georgia", code: "GE" }, { name: "Germany", code: "DE" }, { name: "Gibraltar", code: "GI" }, { name: "Greece", code: "GR" }, { name: "Greenland", code: "GL" }, { name: "Grenada", code: "GD" }, { name: "Guadeloupe", code: "GP" }, { name: "Guam", code: "GU" }, { name: "Guatemala", code: "GT" }, { name: "Guernsey", code: "GG" }, { name: "Haiti", code: "HT" }, { name: "Heard Island and McDonald Islands", code: "HM" }, { name: "Holy See (Vatican City State)", code: "VA" }, { name: "Honduras", code: "HN" }, { name: "Hong Kong", code: "HK" }, { name: "Hungary", code: "HU" }, { name: "Iceland", code: "IS" }, { name: "India", code: "IN" }, { name: "Indonesia", code: "ID" },
                                     { name: "Ireland", code: "IE" }, { name: "Isle of Man", code: "IM" }, { name: "Israel", code: "IL" }, { name: "Italy", code: "IT" }, { name: "Jamaica", code: "JM" }, { name: "Japan", code: "JP" }, { name: "Jersey", code: "JE" },
                                     { name: "South Korea", code: "KR" }, { name: "Kyrgyzstan", code: "KG" }, { name: "Lao People's Democratic Republic", code: "LA" }, { name: "Latvia", code: "LV" },
                                     { name: "Liechtenstein", code: "LI" },{ name: "Lithuania", code: "LT" }, { name: "Luxembourg", code: "LU" }, { name: "Macao", code: "MO" }, { name: "Macedonia, the Former Yugoslav Republic of", code: "MK" }, { name: "Malaysia", code: "MY" }, { name: "Maldives", code: "MV" }, { name: "Malta", code: "MT" }, { name: "Marshall Islands", code: "MH" }, { name: "Martinique", code: "MQ" }, { name: "Mauritius", code: "MU" }, { name: "Mayotte", code: "YT" }, { name: "Mexico", code: "MX" }, { name: "Micronesia, Federated States of", code: "FM" }, { name: "Moldova, Republic of", code: "MD" }, { name: "Monaco", code: "MC" }, { name: "Mongolia", code: "MN" }, { name: "Montenegro", code: "ME" }, { name: "Montserrat", code: "MS" }, { name: "Myanmar", code: "MM" },
                                     { name: "Netherlands", code: "NL" }, { name: "Netherlands Antilles", code: "AN" }, { name: "New Caledonia", code: "NC" }, { name: "New Zealand", code: "NZ" },
                                     { name: "Norfolk Island", code: "NF" }, { name: "Northern Mariana Islands", code: "MP" }, { name: "Norway", code: "NO" }, 
                                     { name: "Palau", code: "PW" }, { name: "Panama", code: "PA" }, { name: "Paraguay", code: "PY" }, { name: "Peru", code: "PE" }, { name: "Philippines", code: "PH" }, { name: "Pitcairn", code: "PN" }, { name: "Poland", code: "PL" }, { name: "Portugal", code: "PT" }, { name: "Puerto Rico", code: "PR" }, { name: "Qatar", code: "QA" }, { name: "Réunion", code: "RE" }, { name: "Romania", code: "RO" }, { name: "Russian Federation", code: "RU" }, { name: "Rwanda", code: "RW" },
                                     { name: "Saint Barthélemy", code: "BL" }, { name: "Saint Helena, Ascension and Tristan da Cunha", code: "SH" }, { name: "Saint Kitts and Nevis", code: "KN" }, { name: "Saint Lucia", code: "LC" }, { name: "Saint Martin (French part)", code: "MF" }, { name: "Saint Pierre and Miquelon", code: "PM" }, { name: "Saint Vincent and the Grenadines", code: "VC" }, { name: "Samoa", code: "WS" }, { name: "San Marino", code: "SM" }, { name: "Sao Tome and Principe", code: "ST" }, { name: "Scotland ", code: "XL" }, { name: "Serbia", code: "RS" }, { name: "Singapore", code: "SG" }, { name: "Sint Maarten (Dutch part)", code: "SX" }, { name: "Slovakia", code: "SK" }, { name: "Slovenia", code: "SI" }, { name: "Solomon Islands", code: "SB" },
                                     { name: "South Africa", code: "ZA" }, { name: "South Georgia and the South Sandwich Islands", code: "GS" },
                                     { name: "Spain", code: "ES" },
                                     { name: "Sweden", code: "SE" }, { name: "Switzerland", code: "CH" },
                                     { name: "Taiwan", code: "TW" }, { name: "Tajikistan", code: "TJ" }, { name: "Thailand", code: "TH" },
                                     { name: "Turkmenistan", code: "TM" }, 
                                     { name: "Ukraine", code: "UA" }, { name: "United Kingdom", code: "UK" },
                                     { name: "United States", code: "US" },
                                      { name: "Uruguay", code: "UY" },
                                     { name: "Venezuela, Bolivarian Republic of", code: "VE" },
                                     { name: "Virgin Islands, British", code: "VG" }, { name: "Virgin Islands, U.S.", code: "VI" }, { name: "Wallis and Futuna", code: "WF" }, { name: "Western Sahara", code: "EH" },
                    ]
                    if (this.isCountryUS =='true') {
                        this.setCountryNull(this.isCountryUS)
                        this.isCountryUS = 'false'
                    }
                    

                    if (this.type_of_visa == '1 Year Multiple Entry') {
                        this.listCountrys = [{ name: "United States", code: "US" }]
                        this.isCountryUS = 'true'
                    }
                    
                    if (this.dropPurposeOfVisit == 'BUSINESS VISA') {
                        if ((this.Processing_Time == 'Urgent - 1 working day (MON-FRI)') || (this.Processing_Time == 'Urgent - 4 working hours (MON-FRI)')) {
                            this.listCountrys = this.removeItemFromArrayObject(this.listCountrys, "United States")
                            this.listCountrys = this.removeItemFromArrayObject(this.listCountrys, "China")
                        }
                    }
                    this.listCodeCountry = []
                    for (var i = 0; i < this.listCountrys.length; i++) {
                        this.listCodeCountry.push(this.listCountrys[i].code);
                    }

                 
                },
                removeItemFromArrayObject: function (someArray,nameSearch) {
                    for (var i = 0; i < someArray.length; i++)
                        if (someArray[i].name === nameSearch) {
                            someArray.splice(i, 1);
                            return someArray;
                            break;
                        }
                },

                initListTypeOfPurposes:function (){
                   
                   
                },

                initPrice: function () {

                    self = this;
                    var root = location.protocol + '//' + location.host;
                    var apiUrl = root + '/apply/getPriceVisa.ashx'

                    $.getJSON(apiUrl, {
                    }, function (cities1) {
                        var list = cities1[0].listTypeOfPurposes;

                        self.listTypeOfPurposes = ['TOURIST VISA']
                        if ((list.indexOf('BUSINESS') != -1)) {
                            self.listTypeOfPurposes = ['TOURIST VISA', 'BUSINESS VISA']
                        }

                        list = cities1[0].listGia;

                        self.p1M1L_1K = parseInt(self.get_mid(list, 'p1M1L_1K=', ';', 0, 0));
                        self.p1M1L_2K = parseInt(self.get_mid(list, 'p1M1L_2K=', ';', 0, 0));
                        self.p1M1L_4K = parseInt(self.get_mid(list, 'p1M1L_4K=', ';', 0, 0));
                        self.p1M1L_6K = parseInt(self.get_mid(list, 'p1M1L_6K=', ';', 0, 0));
                        self.p1M1L_9K = parseInt(self.get_mid(list, 'p1M1L_9K=', ';', 0, 0));

                        self.p3M1L_1K = parseInt(self.get_mid(list, 'p3M1L_1K=', ';', 0, 0));
                        self.p3M1L_2K = parseInt(self.get_mid(list, 'p3M1L_2K=', ';', 0, 0));
                        self.p3M1L_4K = parseInt(self.get_mid(list, 'p3M1L_4K=', ';', 0, 0));
                        self.p3M1L_6K = parseInt(self.get_mid(list, 'p3M1L_6K=', ';', 0, 0));
                        self.p3M1L_9K = parseInt(self.get_mid(list, 'p3M1L_9K=', ';', 0, 0));

                        self.p1MNL_1K = parseInt(self.get_mid(list, 'p1MNL_1K=', ';', 0, 0));
                        self.p1MNL_2K = parseInt(self.get_mid(list, 'p1MNL_2K=', ';', 0, 0));
                        self.p1MNL_4K = parseInt(self.get_mid(list, 'p1MNL_4K=', ';', 0, 0));
                        self.p1MNL_6K = parseInt(self.get_mid(list, 'p1MNL_6K=', ';', 0, 0));
                        self.p1MNL_9K = parseInt(self.get_mid(list, 'p1MNL_9K=', ';', 0, 0));

                        self.p3MNL_1K = parseInt(self.get_mid(list, 'p3MNL_1K=', ';', 0, 0));
                        self.p3MNL_2K = parseInt(self.get_mid(list, 'p3MNL_2K=', ';', 0, 0));
                        self.p3MNL_4K = parseInt(self.get_mid(list, 'p3MNL_4K=', ';', 0, 0));
                        self.p3MNL_6K = parseInt(self.get_mid(list, 'p3MNL_6K=', ';', 0, 0));
                        self.p3MNL_9K = parseInt(self.get_mid(list, 'p3MNL_9K=', ';', 0, 0));

                        self.rush1d = parseInt(self.get_mid(list, 'rush1d=', ';', 0, 0));
                        self.rush6h = parseInt(self.get_mid(list, 'rush6h=', ';', 0, 0));
                        self.rush4h = parseInt(self.get_mid(list, 'rush4h=', ';', 0, 0));
                        self.rush2h = parseInt(self.get_mid(list, 'rush2h=', ';', 0, 0));
                        self.rush1h = parseInt(self.get_mid(list, 'rush1h=', ';', 0, 0));
                        self.rush8holidayHour = parseInt(self.get_mid(list, 'rush8holidayHour=', ';', 0, 0));

                        self.pB1M1L = parseInt(self.get_mid(list, 'pB1M1L=', ';', 0, 0));
                        self.pB1MNL = parseInt(self.get_mid(list, 'pB1MNL=', ';', 0, 0));
                        self.pB3M1L = parseInt(self.get_mid(list, 'pB3M1L=', ';', 0, 0));
                        self.pB3MNL = parseInt(self.get_mid(list, 'pB3MNL=', ';', 0, 0));
                        self.pB6MNL = parseInt(self.get_mid(list, 'pB6MNL=', ';', 0, 0));

                        self.p1YNL = parseInt(self.get_mid(list, 'p1YNL=', ';', 0, 0));
                        self.pB1YNL = parseInt(self.get_mid(list, 'pB1YNL=', ';', 0, 0));

                        self.rush1dfB = parseInt(self.get_mid(list, 'rush1dfB=', ';', 0, 0));
                        self.rush4hfB = parseInt(self.get_mid(list, 'rush4hfB=', ';', 0, 0));

                        self.pCountryTouristAE = parseInt(self.get_mid(list, 'pCountryTouristAE=', ';', 0, 0));
                        self.pCountryBusinessPlusIndiaUnder3M = parseInt(self.get_mid(list, 'pCountryBusinessPlusIndiaUnder3M=', ';', 0, 0));
                        self.pCountryBusinessPlusIndia6M = parseInt(self.get_mid(list, 'pCountryBusinessPlusIndia6M=', ';', 0, 0));
                        self.pCountryBusinessPlusIndia1Y = parseInt(self.get_mid(list, 'pCountryBusinessPlusIndia1Y=', ';', 0, 0));
                        self.pCountryBusinessPlusChinaUnder3M = parseInt(self.get_mid(list, 'pCountryBusinessPlusChinaUnder3M=', ';', 0, 0));
                        self.pCountryBusinessPlusChina6M = parseInt(self.get_mid(list, 'pCountryBusinessPlusChina6M=', ';', 0, 0));
                        self.pCountryBusinessPlusChina1Y = parseInt(self.get_mid(list, 'pCountryBusinessPlusChina1Y=', ';', 0, 0));
                        self.pCountryBusinessPlusKorea = parseInt(self.get_mid(list, 'pCountryBusinessPlusKorea=', ';', 0, 0));
                        self.pCountryBusinessPlusKorea1Y = parseInt(self.get_mid(list, 'pCountryBusinessPlusKorea1Y=', ';', 0, 0));

                        self.pCountryBusinessPlus5NuocUnder3M = parseInt(self.get_mid(list, 'pCountryBusinessPlus5NuocUnder3M=', ';', 0, 0));
                        self.pCountryBusinessPlus5Nuoc6M = parseInt(self.get_mid(list, 'pCountryBusinessPlus5Nuoc6M=', ';', 0, 0));
                        self.pCountryBusinessPlus5Nuoc1Y = parseInt(self.get_mid(list, 'pCountryBusinessPlus5Nuoc1Y=', ';', 0, 0));

                    });


                    
                },

     
                get_mid: function(content,dauhieu1, dauhieu2, opt1, opt2){
                    var str;
                    if ((content.indexOf(dauhieu1) != -1) && (content.indexOf(dauhieu2) != -1)) {
                        if (opt1 == 0) {
                            str = content.substring(content.indexOf(dauhieu1) + dauhieu1.length);
                        } else {
                            str = content.substring(content.indexOf(dauhieu1));
                        }
                        if (str.indexOf(dauhieu2) != -1) {
                            if (opt2 == 0) {
                                str = str.substring(0,str.indexOf(dauhieu2))
                            } else {
                                str = str.substring(0, str.indexOf(dauhieu2) + dauhieu2.length)
                            }
                        } else {
                            str = '';
                        }
                    }

                    return str;
                },

                setCookie:  function(cname, cvalue, exdays) {
                    var d = new Date();
                    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
                    var expires = "expires=" + d.toGMTString();
                    document.cookie = cname + "=" + cvalue + "; " + expires;
                },
                getCookie:  function(cname) {
                    var name = cname + "=";
                    var ca = document.cookie.split(';');
                    for (var i = 0; i < ca.length; i++) {
                        var c = ca[i];
                        while (c.charAt(0) == ' ') {
                            c = c.substring(1);
                        }
                        if (c.indexOf(name) == 0) {
                            return c.substring(name.length, c.length);
                        }
                    }
                    return "";
                    },
               
                getParameterByName: function (name) {
                    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                        results = regex.exec(location.search);
                    return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
                },

                arraymove: function(arr, fromIndex, toIndex) {
                    var element = arr[fromIndex];
                    arr.splice(fromIndex, 1);
                    arr.splice(toIndex, 0, element);
                },
                converttoshow: function(){
                    this.imgGender1 = this.changeDOB(this.dateOfBirth1, this.gender1)
                    this.imgGender2 = this.changeDOB(this.dateOfBirth2, this.gender2)
                    this.imgGender3 = this.changeDOB(this.dateOfBirth3, this.gender3)
                    this.imgGender4 = this.changeDOB(this.dateOfBirth4, this.gender4)
                    this.imgGender5 = this.changeDOB(this.dateOfBirth5, this.gender5)
                    this.imgGender6 = this.changeDOB(this.dateOfBirth6, this.gender6)

                    this.nationalityname1 = this.getCountryName(this.nationality1)
                    this.nationalityname2 = this.getCountryName(this.nationality2)
                    this.nationalityname3 = this.getCountryName(this.nationality3)
                    this.nationalityname4 = this.getCountryName(this.nationality4)
                    this.nationalityname5 = this.getCountryName(this.nationality5)
                    this.nationalityname6 = this.getCountryName(this.nationality6)
                },
                checkPrice: function () {
                    if (this.type_of_visa == '1 Month Single Entry') {
                        if (this.dropNumberApp == 1) {
                            this.price = this.p1M1L_1K
                        }
                        if (this.dropNumberApp == 2 || this.dropNumberApp == 3) {
                            this.price = this.p1M1L_2K
                        }
                        if (this.dropNumberApp == 4 || this.dropNumberApp == 5) {
                            this.price = this.p1M1L_4K
                        }
                        if (this.dropNumberApp >= 6) {
                            this.price = this.p1M1L_6K
                        }
                        if (this.dropNumberApp >= 9) {
                            this.price = this.p1M1L_9K
                        }
                    }
                    if (this.type_of_visa == '3 Months Single Entry') {
                        if (this.dropNumberApp == 1) {
                            this.price = this.p3M1L_1K
                        }
                        if (this.dropNumberApp == 2 || this.dropNumberApp == 3) {
                            this.price = this.p3M1L_2K
                        }
                        if (this.dropNumberApp == 4 || this.dropNumberApp == 5) {
                            this.price = this.p3M1L_4K
                        }
                        if (this.dropNumberApp >= 6) {
                            this.price = this.p3M1L_6K
                        }
                        if (this.dropNumberApp >= 9) {
                            this.price = this.p3M1L_9K
                        }
                    }
                    if (this.type_of_visa == '1 Month Multiple Entry') {
                        if (this.dropNumberApp == 1) {
                            this.price = this.p1MNL_1K
                        }
                        if (this.dropNumberApp == 2 || this.dropNumberApp == 3) {
                            this.price = this.p1MNL_2K
                        }
                        if (this.dropNumberApp == 4 || this.dropNumberApp == 5) {
                            this.price = this.p1MNL_4K
                        }
                        if (this.dropNumberApp >= 6) {
                            this.price = this.p1MNL_6K
                        }
                        if (this.dropNumberApp >= 9) {
                            this.price = this.p1MNL_9K
                        }
                    }
                    if (this.type_of_visa == '3 Months Multiple Entry') {
                        if (this.dropNumberApp == 1) {
                            this.price = this.p3MNL_1K
                        }
                        if (this.dropNumberApp == 2 || this.dropNumberApp == 3) {
                            this.price = this.p3MNL_2K
                        }
                        if (this.dropNumberApp == 4 || this.dropNumberApp == 5) {
                            this.price = this.p3MNL_4K
                        }
                        if (this.dropNumberApp >= 6) {
                            this.price = this.p3MNL_6K
                        }
                        if (this.dropNumberApp >= 9) {
                            this.price = this.p3MNL_9K
                        }
                    }
                    if (this.type_of_visa == '1 Year Multiple Entry') {
                        this.price = this.p1YNL
                    }
                   

                    if (this.isCountryAE == 'true') {
                        this.price = this.pCountryTouristAE
                        this.type_of_visa = "1 Month Single Entry"
                    }
                    if (this.isCountryUS == 'true') {
                        this.price = this.p1YNL
                        this.type_of_visa = "1 Year Multiple Entry"
                    }
                    
                    if (this.dropPurposeOfVisit == 'BUSINESS VISA') {
                        if (this.type_of_visa == '1 Month Single Entry') {
                            this.price = this.pB1M1L
                        }
                        if (this.type_of_visa == '3 Months Single Entry') {
                            this.price = this.pB3M1L
                        }
                        if (this.type_of_visa == '1 Month Multiple Entry') {
                            this.price = this.pB1MNL
                        }
                        if (this.type_of_visa == '3 Months Multiple Entry') {
                            this.price = this.pB3MNL
                        }
                        if (this.type_of_visa == '6 Months Multiple Entry') {
                            this.price = this.pB6MNL
                        }
                        if (this.type_of_visa == '1 Year Multiple Entry') {
                            this.price = this.pB1YNL
                        }
                    

                        //if (this.isCountryKorea == 'true') {
                        //    if (this.type_of_visa == '1 Year Multiple Entry') {
                        //        this.price += this.pCountryBusinessPlusKorea1Y
                        //    } else {
                        //        this.price += this.pCountryBusinessPlusKorea
                        //    }
                        //}
                        //if (this.isCountryIndia == 'true') {
                        //    if (this.type_of_visa == '6 Months Multiple Entry') {
                        //        this.price += this.pCountryBusinessPlusIndia6M
                        //    } else {
                        //        if (this.type_of_visa == '1 Year Multiple Entry') {
                        //            this.price += this.pCountryBusinessPlusIndia1Y
                        //        } else {
                        //            this.price += this.pCountryBusinessPlusIndiaUnder3M
                        //        }
                        //    }

                        //}
                        if (this.isCountry5Nuoc == 'true') {
                            if (this.type_of_visa == '6 Months Multiple Entry') {
                                this.price += this.pCountryBusinessPlus5Nuoc6M
                            } else {
                                if (this.type_of_visa == '1 Year Multiple Entry') {
                                    this.price += this.pCountryBusinessPlus5Nuoc1Y
                                } else {
                                    this.price += this.pCountryBusinessPlus5NuocUnder3M
                                }
                            }

                        }

                        //if (this.isCountryChina == 'true') {
                        //    if (this.type_of_visa == '6 Months Multiple Entry') {
                        //        this.price += this.pCountryBusinessPlusChina6M
                        //    } else {
                        //        if (this.type_of_visa == '1 Year Multiple Entry') {
                        //            this.price += this.pCountryBusinessPlusChina1Y
                        //        } else {
                        //            this.price += this.pCountryBusinessPlusChinaUnder3M
                        //        }
                        //    }
                        //}
                        
                    }

                    if (this.Processing_Time == 'Normal - 2 working days (MON-FRI)') {
                        this.priceRush = 0
                    } if (this.Processing_Time == 'Normal - 4 working days (MON-FRI)') {
                        this.priceRush = 0
                    }
                    if (this.Processing_Time == 'Urgent - 1 working day (MON-FRI)') {
                        this.priceRush = this.rush1d
                    }
                    if (this.Processing_Time == 'Urgent - 6 working hours (MON-FRI)') {
                        this.priceRush = this.rush6h
                    }
                    if (this.Processing_Time == 'Urgent - 4 working hours (MON-FRI)') {
                        this.priceRush = this.rush4h
                    }
                    if (this.Processing_Time == 'Urgent - 2 working hours (MON-FRI)') {
                        this.priceRush = this.rush2h
                    }
                    if (this.Processing_Time == 'Urgent - 8 holiday hours') {
                        this.priceRush = this.rush8holidayHour
                    }
                    if (this.Processing_Time == 'Urgent - 2 off-working hours (MON-FRI)') {
                        this.priceRush = this.rush1h
                    }

                    if (this.dropPurposeOfVisit == 'BUSINESS VISA') {
                        if (this.Processing_Time == 'Urgent - 1 working day (MON-FRI)') {
                            this.priceRush = this.rush1dfB
                        }
                        if (this.Processing_Time == 'Urgent - 4 working hours (MON-FRI)') {
                            this.priceRush = this.rush4hfB
                        }
                    }

                    this.total = this.dropNumberApp * (this.price + this.priceRush)

                    if (this.radioPrivate == 'Private Visa') {
                        this.total += 20 * this.dropNumberApp
                    }
                },

                getCountryName: function (nationalityCode) {
                    var pos = jQuery.inArray(nationalityCode, this.listCodeCountry)
                    if (pos != "-1") {
                        return this.listCountrys[pos].name
                    }
                },

                checkExemption1: function (list) {
                    var kq='false'
                    if ((list.indexOf(this.nationality1) != -1) && (this.nationality1 != '')) {
                        kq = 'true'
                    }

                    if (this.dropNumberApp > 1) {
                        if ((list.indexOf(this.nationality2) != -1) && (this.nationality2 != '')) {
                            kq = 'true'
                        }
                    }
                    if (this.dropNumberApp > 2) {
                        if ((list.indexOf(this.nationality3) != -1) && (this.nationality3 != '')) {
                            kq = 'true'
                        }
                    }
                    if (this.dropNumberApp > 3) {
                        if ((list.indexOf(this.nationality4) != -1) && (this.nationality4 != '')) {
                            kq = 'true'
                        }
                    }
                    if (this.dropNumberApp > 4) {
                        if ((list.indexOf(this.nationality5) != -1) && (this.nationality5 != '')) {
                            kq = 'true'
                        }
                    }
                    if (this.dropNumberApp > 5) {
                        if ((list.indexOf(this.nationality6) != -1) && (this.nationality6 != '')) {
                            kq = 'true'
                        }
                    }
                    return kq
                },

                checkExemption: function () {
                    this.exemption = 'false'
                    this.isCountryAE = 'false'
                    this.isCountry5Nuoc = 'false'
                    this.isCountryUS = 'false'

                    this.exemption = this.checkExemption1(this.listExemption)
                    this.isCountryAE = this.checkExemption1(this.listAE)
                    //this.isCountryUS = this.checkExemption1(this.listUS)
                    this.isCountry5Nuoc = this.checkExemption1(this.list5Nuoc)
                    //this.isCountryChina = this.checkExemption1(this.listChina)
                    //this.isCountryKorea = this.checkExemption1(this.listKorea)

                    this.checkPrice()
                },
                setCountryNull: function (isCountry) {
                    if (isCountry=='true') {
                        this.nationality1 = ''
                        this.nationality2 = ''
                        this.nationality3 = ''
                        this.nationality4 = ''
                        this.nationality5 = ''
                        this.nationality6 = ''
                    }
                },
                
                changeDOB: function (DOB, gender) {
                    var imgGender=''
                    if (new Date(this.date18before) >= new Date(DOB)) {
                        imgGender = 'male'
                    } else {
                        if (new Date(this.date12before) >= new Date(DOB)) {  //tren 12 tuoi
                            imgGender = 'maleU18y'
                        } else {
                            if (new Date(this.date3before) >= new Date(DOB)) {  //tren 3 tuoi
                                imgGender = 'maleU12y'
                            } else {
                                if (new Date(this.date1before) >= new Date(DOB)) {  //tren 1 tuoi
                                    imgGender = 'maleU3y'
                                } else {
                                    imgGender = 'maleU1y'
                                }
                            }
                        }
                    }

                    
                    if (gender == 'Female') {
                        imgGender = imgGender.replace('male', 'female')
                    }
                    return imgGender;
                },


                changeArrivalDate: function () {
                    //this.listRushs = ['Normal - 2 working days (MON-FRI)',
                    //                     'Urgent - 1 working day (MON-FRI)',
                    //                     'Urgent - 6 working hours (MON-FRI)',
                    //                     'Urgent - 4 working hours (MON-FRI)',
                    //                     'Urgent - 2 working hours (MON-FRI)']
                    this.listRushs = ['Normal - 2 working days (MON-FRI)',
                                          'Urgent - 1 working day (MON-FRI)',
                                          'Urgent - 6 working hours (MON-FRI)',
                                          'Urgent - 4 working hours (MON-FRI)',
                                          'Urgent - 2 working hours (MON-FRI)',
                                          'Urgent - 8 holiday hours']

                    if (this.dropPurposeOfVisit == 'BUSINESS VISA') {
                        if (this.type_of_visa == "1 Year Multiple Entry") {
                            this.listRushs = ['Normal - 4 working days (MON-FRI)']
                        } else {
                            this.listRushs = ['Normal - 4 working days (MON-FRI)',
                                              'Urgent - 1 working day (MON-FRI)'
                                              ]
                        }
                    }
                    this.Processing_Time = ''
                    if (this.arrival_date != '') {
                        var dArrival = new Date(this.arrival_date);
                        var dday0 = new Date(this.day0);
                        var dday1 = new Date(this.day1);
                        var dday2 = new Date(this.day2);
                        var dday3 = new Date(this.day3);

                        var dNow = new Date(this.timeNow);
                        var dNow0 = new Date(this.timeNow0);

                        this.numberWorkingHoursRemain = 0
                        if (dArrival.getTime() < dday0.getTime()) {
                            //this.msg = 'Date of arrival is not correct. Now is ' + this.timeNow + ' in Vietnam.'

                            if (dArrival.getDate() == dNow.getDate()) {
                                this.msg = 'Date of arrival is not correct. Now is ' + this.timeNow + ' in Vietnam.'
                            } else {
                                this.msg=''
                            }
                            //xoa sau 304

                            this.numberWorkingHoursRemain = -1
                        } else {
                            this.msg = ''
                        }
                        if (this.numberWorkingHoursRemain != -1) {
                            if (dNow0.getTime() == dday0.getTime()) {    //today is working day, dday0 is today
                                if (dNow.getHours() <= 17) {
                                    this.numberWorkingHoursRemain = 17 - dNow.getHours()
                                }
                                if (dArrival.getTime() == dday0.getTime()) {  

                                }
                                if (dArrival.getTime() == dday1.getTime()) {
                                    this.numberWorkingHoursRemain += 4
                                }
                                if ((dArrival.getTime() > dday1.getTime()) && (dArrival.getTime() < dday2.getTime())) {   //DOA is holiday between day1 and day2
                                    this.numberWorkingHoursRemain += 8
                                }
                                if (dArrival.getTime() == dday2.getTime()) {
                                    this.numberWorkingHoursRemain += 12
                                }
                                if ((dArrival.getTime() > dday2.getTime()) && (dArrival.getTime() < dday3.getTime())) {   //DOA is holiday between day2 and day3
                                    this.numberWorkingHoursRemain += 16
                                }
                                if (dArrival.getTime() >= dday3.getTime()) {
                                    this.numberWorkingHoursRemain += 20
                                }
                            } else {   //today is not working day, dday0 is not today
                                if (dArrival.getTime() == dday0.getTime()) {
                                    this.numberWorkingHoursRemain = 4
                                }
                                if ((dArrival.getTime() > dday0.getTime()) && (dArrival.getTime() < dday1.getTime())) {   //DOA is holiday between day0 and day1
                                    this.numberWorkingHoursRemain = 8
                                }
                                if (dArrival.getTime() == dday1.getTime()) {
                                    this.numberWorkingHoursRemain = 12
                                }
                                if ((dArrival.getTime() > dday1.getTime()) && (dArrival.getTime() < dday2.getTime())) {   //DOA is holiday between day1 and day2
                                    this.numberWorkingHoursRemain = 16
                                }
                                if (dArrival.getTime() == dday2.getTime()) {
                                    this.numberWorkingHoursRemain = 20
                                }
                                if ((dArrival.getTime() > dday2.getTime()) && (dArrival.getTime() < dday3.getTime())) {   //DOA is holiday between day2 and day3
                                    this.numberWorkingHoursRemain = 24
                                }
                                if (dArrival.getTime() >= dday3.getTime()) {
                                    this.numberWorkingHoursRemain = 28
                                }
                            }

                        }

                       
                        //if (this.numberWorkingHoursRemain > 16) {
                        //    this.Processing_Time = 'Normal - 2 working days (MON-FRI)'
                        //}
                        if (this.numberWorkingHoursRemain <= 16) {
                            this.Processing_Time = 'Urgent - 1 working day (MON-FRI)'
                            this.listRushs = $(this.listRushs).not(['Normal - 2 working days (MON-FRI)']).get();
                            this.listRushs = $(this.listRushs).not(['Normal - 4 working days (MON-FRI)']).get();
                        }
                        if (this.numberWorkingHoursRemain <= 8) {
                            this.Processing_Time = 'Urgent - 6 working hours (MON-FRI)'
                            this.listRushs = $(this.listRushs).not(['Urgent - 1 working day (MON-FRI)']).get();
                        }
                        if (this.numberWorkingHoursRemain <= 6) {
                            this.Processing_Time = 'Urgent - 4 working hours (MON-FRI)'
                            this.listRushs = $(this.listRushs).not(['Urgent - 6 working hours (MON-FRI)']).get();
                        }
                        if (this.numberWorkingHoursRemain <= 4) {
                            this.Processing_Time = 'Urgent - 2 working hours (MON-FRI)'
                            this.listRushs = $(this.listRushs).not(['Urgent - 4 working hours (MON-FRI)']).get();
                        }
                        if (this.numberWorkingHoursRemain <= 1) {
                            this.Processing_Time = ''
                            this.listRushs = $(this.listRushs).not(['Urgent - 2 working hours (MON-FRI)']).get();
                        }
                        //if (this.numberWorkingHoursRemain < 1) {
                        //    this.Processing_Time = ''
                        //    $("#Processing_Time option[value='Urgent - 2 off-working hours (MON-FRI)']").remove();
                        //}

                        if (this.show8HolidayHours == false) {
                            this.listRushs = $(this.listRushs).not(['Urgent - 8 holiday hours']).get();
                        }
                        

                        var processingTime = this.getCookie('Processing_Time')
                        if (processingTime != '') {
                            this.Processing_Time = this.getCookie('Processing_Time')
                            $('#Processing_Time').val(this.getCookie('Processing_Time'));
                            vm.setCookie("Processing_Time", '', 0)
                        }

                        //for TET holiday
                        //alert(this.arrival_date);
                        var tetHoliday = 'false';
                        if (this.arrival_date == 'January 26, 2017') {
                            tetHoliday = 'true';
                        }
                        if (this.arrival_date == 'January 30, 2017') {
                            tetHoliday = 'true';
                        }
                        if (this.arrival_date == 'January 31, 2017') {
                            tetHoliday = 'true';
                        }
                        if (this.arrival_date == 'February 01, 2017') {
                            tetHoliday = 'true';
                        }
                    
                        if ((this.arrival_date == 'January 26, 2017') || (this.arrival_date == 'January 27, 2017') || (this.arrival_date == 'January 28, 2017') || (this.arrival_date == 'January 29, 2017')) {
                            if (dNow.getDate() == '26') {
                                if (dNow.getHours() >= '13') {
                                    tetHoliday = 'false';
                                }
                            }
                            if ((dNow.getDate() == '27') || (dNow.getDate() == '28') || (dNow.getDate() == '29')) {
                                tetHoliday = 'false';
                            }
                        }
                        if (this.arrival_date == 'January 30, 2017') {
                            if (dNow.getDate() == '30') {
                                if (dNow.getHours() >= '13') {
                                    tetHoliday = 'false';
                                }
                            }
                        }
                        if (this.arrival_date == 'January 31, 2017') {
                            if (dNow.getDate() == '31') {
                                if (dNow.getHours() >= '13') {
                                    tetHoliday = 'false';
                                }
                            }
                        }
                        if (this.arrival_date == 'February 01, 2017') {
                            if (dNow.getDate() == '01') {
                                if (dNow.getHours() >= '13') {
                                    tetHoliday = 'false';
                                }
                            }
                        }
                        
                        if (tetHoliday == 'true') {
                            this.listRushs = ['Urgent - 8 holiday hours']
                            this.dropPurposeOfVisit = 'TOURIST VISA'
                            this.listTypeOfVisas = $(this.listTypeOfVisas).not(['6 Months Multiple Entry']).get();
                            this.listTypeOfVisas = $(this.listTypeOfVisas).not(['1 Year Multiple Entry']).get();
                            this.listTypeOfPurposes = $(this.listTypeOfPurposes).not(['BUSINESS VISA']).get();
                        }
                        //for Tet holiday


                        vm.checkPrice();
                    }
                },

                checkShow8HolidayHours: function () {
                    self = this;

                    self.show8HolidayHours = true;

                    //var root = location.protocol + '//' + location.host;
                    //var apiUrl = root + '/apply/getInfoHoliday.ashx'

                    //$.getJSON(apiUrl, {
                    //}, function (cities1) {
                    //    $.each(cities1, function () {
                    //        textMsg = this['STR'];
                    //        if (textMsg != null) {
                    //            self.show8HolidayHours = true;
                    //        }
                    //    });
                        
                    //});
                }
            },
            watch: {
                arrival_date: function (val, oldVal) {
                    vm.changeArrivalDate()
                },
                nationality1: function (val, oldVal) {
                    this.nationality1 = val
                    if (this.nationality2 == '') {
                        this.nationality2 = val
                    }
                    if (this.nationality3 == '') {
                        this.nationality3 = val
                    }
                    if (this.nationality4 == '') {
                        this.nationality4 = val
                    }
                    if (this.nationality5 == '') {
                        this.nationality5 = val
                    }
                    if (this.nationality6 == '') {
                        this.nationality6 = val
                    }
                    vm.checkExemption()
                },
                nationality2: function (val, oldVal) {
                    vm.checkExemption()
                },
                nationality3: function (val, oldVal) {
                    vm.checkExemption()
                },
                nationality4: function (val, oldVal) {
                    vm.checkExemption()
                },
                nationality5: function (val, oldVal) {
                    vm.checkExemption()
                },
                nationality6: function (val, oldVal) {
                    vm.checkExemption()
                },
            },
            ready: function () {
                $("#loadingBook1").show();
                try {
                    this.url_ref = this.getCookie("url_ref")
                    if (this.url_ref.length>400) {
                        this.url_ref=this.url_ref.substring(0, 380);
                    }
                } catch (e) {

                }
                this.dropPurposeOfVisit = 'TOURIST VISA'

                this.initListTypeOfPurposes()
                this.initPrice()
                this.initListCountry()
                this.showdata = this.getParameterByName('showdata')

                var tab = this.getParameterByName('tab')
                this.payPara = this.getParameterByName('pay')
                if (this.payPara != '') {
                    this.tab = tab
                    this.isStep1 = false
                    this.isStep2 = false
                    this.isStep3 = true
                }
                if (this.payPara == 'wait payment') {
                    this.payAgain = 'true'
                }

                $("#showInfoPayment").css("display", "block");
                
                this.submitInfo = this.getParameterByName('submitInfo')
               
                this.date18before = new Date();
                this.date18before.setYear(this.date18before.getFullYear() - 18);

                this.date12before = new Date();
                this.date12before.setYear(this.date12before.getFullYear() - 12);
                
                this.date3before = new Date();
                this.date3before.setYear(this.date3before.getFullYear() - 3);

                this.date1before = new Date();
                this.date1before.setYear(this.date1before.getFullYear() - 1);
                
                var id1 = this.getParameterByName('id')
                var unique_code1 = this.getParameterByName('unique_code')
                
                
                if (id1=='') {
                    var mainCountry = '';
                    self = this;
                    var root = location.protocol + '//' + location.host;
                    var apiUrl = root + '/apply/getIpInfo.ashx'

                    $.getJSON(apiUrl, {
                    }, function (cities1) {
                        mainCountry = cities1[0].Country;
                        //mainCountry='AU'
                        if (mainCountry != '') {
                            var mainCountryPosition = jQuery.inArray(mainCountry, self.listCodeCountry);

                            if (mainCountryPosition != "-1") {
                                self.arraymove(self.listCountrys, mainCountryPosition, 0);
                                self.arraymove(self.listCodeCountry, mainCountryPosition, 0);
                            }
                        }
                    });
                }

                if (id1 != '') {
                    var root = location.protocol + '//' + location.host;
                    var apiUrl = root + '/apply/getInfo.ashx'
                    self = this
                    $.getJSON(apiUrl, {
                        id: id1,
                        unique_code: unique_code1
                    }, function (item) {
                        if (item[0].ok == 'ok') {
                            self.id = id1
                            self.dropPurposeOfVisit = item[0].dropPurposeOfVisit
                            self.dropNumberApp = item[0].dropNumberApp
                            self.type_of_visa = item[0].type_of_visa
                            self.Arrival_Airport = item[0].Arrival_Airport

                            self.arrival_date = item[0].arrival_date
                            self.Processing_Time = item[0].Processing_Time
                            vm.setCookie("Processing_Time", item[0].Processing_Time, 30)

                            self.unique_code = item[0].unique_code

                            self.linkOnepay = item[0].linkOnepay
                            self.linkPaypal = item[0].linkPaypal
                            
                            self.radioPrivate = item[0].radioPrivate
                            self.Contact_Name = item[0].Contact_Name
                            self.Contact_Email = item[0].Contact_Email
                            self.confirm_email = item[0].Contact_Email
                            self.Contact_Phone = item[0].Contact_Phone
                            self.radioPay = item[0].radioPay
                          
                            self.payStatus = item[0].bookingStatus
                            self.paid = item[0].paid

                            if ((self.payStatus == 'send mail') || (self.payStatus == 'wait visa')) {
                                self.tab = 3
                                self.isStep1 = false
                                self.isStep2 = false
                                self.isStep3 = true
                            }

                            self.nationality1 = item[0].nationality1
                            self.fullname1 = item[0].fullname1
                            self.gender1 = item[0].gender1
                            self.dateOfBirth1 = item[0].dateOfBirth1
                            self.passport_number1 = item[0].passport_number1
                            self.passportExpiryDate1 = item[0].passportExpiryDate1

                            self.nationality2 = item[0].nationality2
                            self.fullname2 = item[0].fullname2
                            self.gender2 = item[0].gender2
                            self.dateOfBirth2 = item[0].dateOfBirth2
                            self.passport_number2 = item[0].passport_number2
                            self.passportExpiryDate2 = item[0].passportExpiryDate2

                            self.nationality3 = item[0].nationality3
                            self.fullname3 = item[0].fullname3
                            self.gender3 = item[0].gender3
                            self.dateOfBirth3 = item[0].dateOfBirth3
                            self.passport_number3 = item[0].passport_number3
                            self.passportExpiryDate3 = item[0].passportExpiryDate3

                            self.nationality4 = item[0].nationality4
                            self.fullname4 = item[0].fullname4
                            self.gender4 = item[0].gender4
                            self.dateOfBirth4 = item[0].dateOfBirth4
                            self.passport_number4 = item[0].passport_number4
                            self.passportExpiryDate4 = item[0].passportExpiryDate4

                            self.nationality5 = item[0].nationality5
                            self.fullname5 = item[0].fullname5
                            self.gender5 = item[0].gender5
                            self.dateOfBirth5 = item[0].dateOfBirth5
                            self.passport_number5 = item[0].passport_number5
                            self.passportExpiryDate5 = item[0].passportExpiryDate5

                            self.nationality6 = item[0].nationality6
                            self.fullname6 = item[0].fullname6
                            self.gender6 = item[0].gender6
                            self.dateOfBirth6 = item[0].dateOfBirth6
                            self.passport_number6 = item[0].passport_number6
                            self.passportExpiryDate6 = item[0].passportExpiryDate6

                            self.oldInfo = self.dropPurposeOfVisit + "/" + self.dropNumberApp + "/" + self.type_of_visa + '/' + self.Arrival_Airport + '/' + self.arrival_date + '/' + self.Processing_Time
                            self.oldInfo +=  '/' + self.radioPrivate + '/' + self.Contact_Name + '/' + self.Contact_Email + '/' + self.Contact_Phone + '/' + self.radioPay
                            self.oldInfo += '/' + self.nationality1 + '/' + self.fullname1 + '/' + self.gender1 + '/' + self.dateOfBirth1 + '/' + self.passport_number1 + '/' + self.passportExpiryDate1
                            self.oldInfo += '/' + self.nationality2 + '/' + self.fullname2 + '/' + self.gender2 + '/' + self.dateOfBirth2 + '/' + self.passport_number2 + '/' + self.passportExpiryDate2
                            self.oldInfo += '/' + self.nationality3 + '/' + self.fullname3 + '/' + self.gender3 + '/' + self.dateOfBirth3 + '/' + self.passport_number3 + '/' + self.passportExpiryDate3
                            self.oldInfo += '/' + self.nationality4 + '/' + self.fullname4 + '/' + self.gender4 + '/' + self.dateOfBirth4 + '/' + self.passport_number4 + '/' + self.passportExpiryDate4
                            self.oldInfo += '/' + self.nationality5 + '/' + self.fullname5 + '/' + self.gender5 + '/' + self.dateOfBirth5 + '/' + self.passport_number5 + '/' + self.passportExpiryDate5
                            self.oldInfo += '/' + self.nationality6 + '/' + self.fullname6 + '/' + self.gender6 + '/' + self.dateOfBirth6 + '/' + self.passport_number6 + '/' + self.passportExpiryDate6

                            if (self.tab == '3') {
                                vm.converttoshow()
                            }
                            vm.updateListTypeOfVisa()
                            vm.checkPrice()
                            vm.getCurInfo();
                            $("#loadingBook1").hide();
                           
                        }

                    });
                }
                
                this.checkShow8HolidayHours();
                
            },
            components: {
                counter: {
                    template: '#templateApplication',
                    props: ['stt'],
                },
              
                tempshowinfopax: {
                    template: '#templateShowInfoPax',
                    props: ['stt', 'tempdropnumberapp', 'tempfullname', 'tempnationality', 'tempnationalityname', 'tempgender', 'tempimggender', 'tempdateofbirth', 'temppassportnumber', 'temppassportexprirydate'],
                },
                temptotal: {
                    template: '#templatetotal',
                    props: ['dropnumberapp', 'type_of_visa', 'droppurposeofvisit', 'price', 'processing_time', 'pricerush', 'radioprivate', 'total', 'paid'],
                },
                tempshowpricebusiness: {
                    template: '#templateShowPriceBusinessTable',
                    props: ['country', 'pb1m1l', 'pb1mnl', 'pb3m1l', 'pb3mnl', 'pb6mnl', 'pb1ynl'],
                }
                
            },
            computed: {
            }

        })
    </script>
    
<script src="https://vietnamvisa.org/jsnew/bootbox.min.js"></script>
<body>
<div class="bienthuy-wrapper box"> <!-- Need this wrapper for off-canvas menu. Remove if you don't use of-canvas -->
	<div class="box-wrapper">
		<div class="header2">
			<!-- Topbar -->
<div class="ts-topbar" style="display: none">
				<!-- HOME SL 1 -->
		<div class=" col-lg-6 col-md-6 col-sm-6 col-xs-12 hidden-xs">
		﻿﻿﻿
		</div>
		<!-- //HOME SL 1 -->
					
				<!-- HOME SL 1 -->
		<div class=" col-lg-6 col-md-6 col-sm-6 col-xs-12">
		<ul class="nav menu topmenu">
<li class="item-125"><a href="/contact-us" class="">Contact us</a></li><li class="item-179"><a href="/gallery.html" class="">Gallery </a></li></ul>

		</div>
		<!-- //HOME SL 1 -->
			
</div>
<!-- Topbar end -->
			<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TDLB98K"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- HEADER -->
		<header id="bienthuy-header" class="bienthuy-header">
				<div class="container">
					<div class="row">
						<!-- Logo -->
						<div class="col-xs-12 col-sm-5 col-md-4 logo" id="logo-header">
							<div class="logo-image" style="margin-left: -10px;">
								<a href="/" title="Vietnam Travel">
									<img class="logo-img img-responsive" src="/images/logo.png" alt="Vietnam Travel">
										<span>Vietnam Travel</span>
									</a>
									<small class="site-slogan"></small>
								</div>
							</div>
							<!--/ Logo -->
							<!-- Banner Top -->
							<div class="col-xs-12 col-sm-7 hidden-xs pull-right col-md-8">
								<!-- HEAD SEARCH -->
								<div class="banner-top ">
									<div class="moduletable">
										<div class="custom">
											<div class="header-column pull-right">
												<ul class="header-extra-info hidden-xs">
													<li>
														<div class="feature-box feature-box-style-3">
															<div class="feature-box-icon">
																<i class="fa fa-phone"></i>
															</div>
															<div class="feature-box-info">
																<h4 class="mb-none">
																	<span style="font-size: 11pt;">
																		<a href="tel:<?php echo $this->setting->hotline;?>"><?php echo $this->setting->hotline;?></a>
																	</span>
																</h4>
																<p>
																	<small>Viber/WhatApp/WeChat/Zalo</small>
																</p>
															</div>
														</div>
													</li>
													<li>
														<div class="feature-box feature-box-style-3">
															<div class="feature-box-icon">
																<i class="fa fa-envelope"></i>
															</div>
															<div class="feature-box-info">
																<h4 class="mb-none">
																	<span style="font-size: 11pt;">
																		<a href="mailto:<?php echo $this->setting->email;?>"><?php echo $this->setting->email;?></a>
																	</span>
																</h4>
																<p>
																	<small>Send us an e-mail</small>
																</p>
															</div>
														</div>
													</li>
												</ul>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- Banner Top End -->
						</div>
					</div>
				</header>
<!-- //HEADER -->
<script type="application/ld+json">
{"@context": "http://schema.org","@type": "Organization","address": "Unit 507, International Centre, 17 Ngo Quyen str, Hoan Kiem, Hanoi, Vietnam","foundingDate": "2005-03-08","location": {"@type": "Place","address": {"@type": "PostalAddress","addressLocality": "Hanoi","addressRegion": "Vietnam"},"url": "http://vietnamvisatours.com/"},"url": "http://vietnamvisatours.com/","logo": "http://vietnamvisatours.com/images/icons/Logo-Vietnamtours.png","contactPoint": [{"@type": "ContactPoint","telephone": "+84 24 3942 9444","contactType": "customer support","availableLanguage": "English"}]}</script><script type="application/ld+json">{"@context": "http://schema.org","@type": "WebSite","name": "Vietnam Tours","alternateName": "Travel Vietnam","url": "http://vietnamvisatours.com"}</script><script type="application/ld+json">{"@context": "http://schema.org","@type": "Person","name": "Vietnam Tours","url": "http://vietnamvisatours.com","sameAs": ["https://www.facebook.com/travelvietnam.com","https://youtube.com/user/asiatravelandleisure"]}</script><script type="application/ld+json">{
  "@context":"http://schema.org","@type":"TravelAgency","image": "http://vietnamvisatours.com/images/icons/Logo-Vietnamtours.png","@id":"http://vietnamvisatours.com/","name":"Vietnam Tours","address":{"@type":"PostalAddress","streetAddress":"Unit 507, International Centre, 17 Ngo Quyen str, Hoan Kiem","addressLocality":"Hanoi","addressRegion":"HN","postalCode":"111100","addressCountry":"Vietnam"},"geo":{"@type":"GeoCoordinates","latitude":21.0251346,"longitude":105.8554463},"telephone":"+84 24 3942 9444","priceRange": "$0 - $1000000","potentialAction":{"@type":"ReserveAction","target":{"@type":"EntryPoint","urlTemplate":"http://vietnamvisatours.com/customized-tour.html","inLanguage":"en-US","actionPlatform":["http://schema.org/DesktopWebPlatform","http://schema.org/IOSPlatform","http://schema.org/AndroidPlatform"]},"result":{"@type":"Reservation","name":"Book Tour"}}}</script>
			
<!-- MAIN NAVIGATION -->
<nav id="bienthuy-mainnav" class="wrap navbar navbar-default bienthuy-mainnav">
	
		<div class="container">

		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">

			<div class="hidden-lg">
		
											<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".t3-navbar-collapse">
					<i class="fa fa-bars"></i>
				</button>
			
													</div>


		
		</div>
		<!-- display on mobile, tablet -->
		<div class="t3-navbar-collapse navbar-collapse collapse" aria-expanded="true" style="">
			<ul itemscope="" itemtype="http://www.schema.org/SiteNavigationElement" class="nav navbar-nav level0">
				<li itemprop="name">
                	<a itemprop="url" href="/">Home </a>
                </li>
                <li itemprop="name" class="dropdown">
    				<a itemprop="url" href="javascript:void(0)" data-toggle="dropdown" data-target="#">Visa to VietNam <em class="caret"></em></a>
    
                    <ul class="level1 dropdown-menu">
                    	<li itemprop="name" class="">
                        	<a itemprop="url" rel="nofollow" href="/visa-step"  data-target="#">Steps to Apply Visa</a>                        
                        </li>
                        <li itemprop="name" class="">
                        	<a itemprop="url" rel="nofollow" href="/visa-apply-online"  data-target="#">Apply Online</a>                        
                        </li>
                        <li itemprop="name" class="">
                        	<a itemprop="url" rel="nofollow" href="/visa-faq"  data-target="#">FAQ</a>                        
                        </li>
                        <li itemprop="name" class="">
                        	<a itemprop="url" rel="nofollow" href="/visa-service"  data-target="#">Extra Services</a>                        
                        </li>
                    </ul>
				</li>
                <?php foreach ($this->menu_level_0 as $menu0){?>
                <li itemprop="name" class="dropdown">
					<a itemprop="url" href="javascript:void(0)" data-toggle="dropdown" data-target="#"><?php echo $menu0->name?><em class="caret"></em></a>
					<ul class="level1 dropdown-menu">
						<?php foreach ($menu0->menu1 as $menu1){?>
							<?php if(sizeof($menu1->menu2) == 0){ ?>
								<li itemprop="name" class="">
                            		<a itemprop="url" rel="nofollow" href="<?php echo $menu1->url?>" data-target="#"><?php echo $menu1->name?></a>                            
								</li>
							<?php } else {?>
								<li itemprop="name" class="dropdown-submenu">
									<a itemprop="url" href="<?php echo $menu1->url?>"><?php echo $menu1->name?></a>
									<ul class="level2 dropdown-menu">
										<?php foreach ($menu1->menu2 as $menu2){?>
										<li itemprop="name" class="">
											<a itemprop="url" href="<?php echo $menu2->url?>" data-target="#"><?php echo $menu2->name?></a>
										</li>
										<?php }?>
									</ul>
								</li>
							<?php }?>
						<?php }?>
					</ul>
				</li>
                <?php }?>
                <li itemprop="name">
                	<a itemprop="url" href="/why-us">Why us</a>                
                </li>
                <li itemprop="name">
                	<a itemprop="url" href="/contact-us">Contact us</a>                
                </li>
		</ul>
	   </div>
		
					
		<!-- display on PC -->
		<div class=" hidden-sm hidden-xs">
			<div class="t3-navbar navbar-collapse collapse">
				<div class="t3-megamenu" data-responsive="true">
<ul itemscope="" itemtype="http://www.schema.org/SiteNavigationElement" class="nav navbar-nav level0">
<li itemprop="name" class="current active" data-id="101" data-level="1">
<a itemprop="url" class="" href="/" data-target="#">Home </a>

</li>
<li itemprop="name" class="dropdown mega" data-id="124" data-level="1">
<a itemprop="url" class=" dropdown-toggle" href="javascript:void(0)" data-target="#" data-toggle="dropdown" aria-expanded="true">Visa to Vietnam<em class="caret"></em></a>

<div class="nav-child dropdown-menu mega-dropdown-menu" style="width: 180px;" data-width="180"><div class="mega-dropdown-inner">
<div class="row">
<div class="col-xs-12 mega-col-nav" data-width="12"><div class="mega-inner">
<ul itemscope="" itemtype="http://www.schema.org/SiteNavigationElement" class="mega-nav level1">
<li itemprop="name" data-id="219" data-level="2" class="">
<a itemprop="url" class="" rel="nofollow" href="/visa-step" data-target="#">Steps to Apply Visa</a>
</li>
<li>
<a itemprop="url" class="" rel="nofollow" href="/visa-apply-online" data-target="#">Apply Online</a>

</li>
<li itemprop="name" data-id="230" data-level="2" class="">
<a itemprop="url" class="" rel="nofollow" href="/visa-faq" data-target="#">FAQ</a>
</li>
<li itemprop="name" data-id="231" data-level="2" class="">
<a itemprop="url" class="" rel="nofollow" href="/visa-service" data-target="#">Extra Services</a>
</li>

</ul>
</div></div>
</div>
</div></div>
</li>
<?php foreach ($this->menu_level_0 as $menu0){?>
<li itemprop="name" class="dropdown mega" data-id="<?php echo $menu0->id?>" data-level="1">
<a itemprop="url" class=" dropdown-toggle" href="javascript:void(0)" data-target="#" data-toggle="dropdown"><?php echo $menu0->name?><em class="caret"></em></a>

<div class="nav-child dropdown-menu mega-dropdown-menu" style="width: 185px;" data-width="185"><div class="mega-dropdown-inner">
<div class="row">
<div class="col-xs-12 mega-col-nav" data-width="12"><div class="mega-inner">
<ul itemscope="" itemtype="http://www.schema.org/SiteNavigationElement" class="mega-nav level1">
<?php foreach ($menu0->menu1 as $menu1){?>
<?php if(sizeof($menu1->menu2) == 0){ ?>
<li itemprop="name" data-id="<?php echo $menu1->id?>" data-level="2" class="open">
<a itemprop="url" class="" href="<?php echo $menu1->url?>" data-target="#"><?php echo $menu1->name?> </a>
</li>
<?php } else {?> 
<li itemprop="name" class="dropdown-submenu mega" data-id=<?php echo $menu1->id?> data-level="2">
<a itemprop="url" class="" href="<?php echo $menu1->url?>" data-target="#"><?php echo $menu1->name?></a>

<div class="nav-child dropdown-menu mega-dropdown-menu" style="width: 300px;" data-width="300">
<div class="mega-dropdown-inner">
<div class="row">
<div class="col-xs-12 mega-col-nav" data-width="12"><div class="mega-inner">
<?php if(sizeof($menu1->menu2) > 0){ ?> 
<ul itemscope="" itemtype="http://www.schema.org/SiteNavigationElement" class="mega-nav level2">
<?php foreach ($menu1->menu2 as $menu2){?>
<li itemprop="name" data-id="<?php echo $menu2->id?>" data-level="3">
<a itemprop="url" class="" href="<?php echo $menu2->url?>" data-target="#"><?php echo $menu2->name?></a>
</li>
<?php }?>
</ul>
<?php }?>
</div></div>
</div>
</div></div>
</li>
<?php }?>
<?php }?>
</ul>
</div></div>
</div>
</div></div>
</li>
<?php };?>
<li itemprop="name" data-id="115" data-level="1" class="">
<a itemprop="url" class="" href="/why-us" data-target="#">Why us </a>

</li>
<li itemprop="name" data-id="123" data-level="1" class="">
<a itemprop="url" class="" href="/contact-us" data-target="#">Contact us </a>

</li>
</ul>
</div>

			</div>
		</div>

		</div>
</nav>


<!-- //MAIN NAVIGATION -->

</div>
		<?php echo $this->layout()->content ?>			

<!-- Showcase end -->
		
<!-- Footer Top -->
	<div class="ts-footer-top">
			</div>
<!-- 
<button onclick="showaddmobile()" class="mobileclick">WHERE TO FIND US</button>
<script>
function showaddmobile() {
    var x = document.getElementById("bienthuy-footer");
    if (x.style.display === "none") {
        x.style.display = "block";
    } else {
        x.style.display = "none";
    }
}
</script>
-->
<footer id="bienthuy-footer" class="wrap bienthuy-footer">
	<!-- Footer Content -->
		<!-- Footer Content end -->
	<!-- SPOTLIGHT 2 --> 
<div class="container bienthuy-spot bienthuy-spot-2">
		<div class="t3-spotlight t3-spotlight-2 row">
			<div class="col-xs-12 col-md-3"><!-- Columns start at 100% wide on mobile and bump up to 33.3% wide on desktop -->
			

<div class="custom">
	<span class="diachicuoitrang">HANOI - VIETNAM</span><br><?php echo $this->setting->address;?><br>T: <?php echo $this->setting->hotline;?></div>

			</div>
		</div>
		<div class="t3-spotlight t3-spotlight-2 row">
				<div class="col-xs-12 col-md-6">© 2018 <img src="/templates/bienthuy/images/vietnam-flag.png" alt="Vietnam Tour" border="0" width="16"> <b>Vietnam Visa Tour</b>. International Tour Operator. All rights Reserved. <a style="display:none" href="https://www.dmca.com/Protection/Status.aspx?ID=c2cb4482-165e-4571-9060-1164fc0b823a&amp;refurl=http://vietnamvisatours.com/" title="DMCA.com Protection Status" class="dmca-badge" target="_blank" rel="noopenner nofollow"> <img src="//images.dmca.com/Badges/dmca_protected_sml_120n.png?ID=c2cb4482-165e-4571-9060-1164fc0b823a" alt="DMCA.com Protection Status"></a> <script src="//images.dmca.com/Badges/DMCABadgeHelper.min.js"> </script>			
				<ul class="social-icons icon-circle icon-rotate list-unstyled list-inline"> 
						  <li> <a title="Find Vietnam Tour on Facebook" href="javascript:void(0)" target="_blank" rel="noopenner nofollow"><i class="fa fa-facebook"></i></a></li>  
						  <li> <a title="Find Vietnam Tour on Google Plus" href="javascript:void(0)" target="_blank" rel="noopenner nofollow"><i class="fa fa-google-plus"></i></a></li> 
						  <li> <a title="Find Vietnam Tour on Youtube" href="javascript:void(0)" target="_blank" rel="noopenner nofollow"><i class="fa fa-youtube"></i></a></li>   
						  <li> <a title="Find Vietnam Tour on Reddit" href="javascript:void(0)" target="_blank" rel="noopenner nofollow"><i class="fa fa-reddit"></i></a></li>   
						  <li> <a title="Find Vietnam Tour on Tumblr" href="javascript:void(0)" target="_blank" rel="noopenner nofollow"><i class="fa fa-tumblr"></i></a></li>   
						</ul>
				</div>
		</div>
</div>
<!-- //SPOTLIGHT 2 -->	
</footer>
<!-- //FOOTER -->
<!-- Back to top -->
<div id="back-to-top" data-spy="affix" data-offset-top="10" class="back-to-top affix-top">
  <button class="btn btn-primary" title="Back to Top"><i class="fa fa-angle-double-up"></i></button>
</div>
<script type="text/javascript">
(function($) {
	// Back to top
	$('#back-to-top').on('click', function(){
		$("html, body").animate({scrollTop: 0}, 500);
		return false;
	});
})(jQuery);
</script>
<!-- End of LiveChat code --><!-- BIENTHUY.COM LIVECHAT -->
<!-- Global site tag (gtag.js) - Google Analytics -->
	</div>
</div>
<div class="loader" id="loader"></div>
<div id="overlay"></div>
<div id="ui-datepicker-div" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>
</div><div id="lc_invite_layer" style="text-align: left; display: none; z-index: 16777261;"></div><div id="lc_overlay_layer" style="background-color: rgb(0, 0, 0); position: fixed; left: 0px; top: 0px; z-index: 16777260; display: none; width: 100%; height: 100%;"></div>
</body></html>